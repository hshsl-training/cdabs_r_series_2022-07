<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 2 Introduction to R and RStudio | CDABS R Workshop Series</title>
  <meta name="description" content="This is material to accompany a 4 part introduction to R workshop series." />
  <meta name="generator" content="bookdown 0.27 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 2 Introduction to R and RStudio | CDABS R Workshop Series" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is material to accompany a 4 part introduction to R workshop series." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 2 Introduction to R and RStudio | CDABS R Workshop Series" />
  
  <meta name="twitter:description" content="This is material to accompany a 4 part introduction to R workshop series." />
  

<meta name="author" content="Jean-Paul Courneya and Amy Yarnell" />


<meta name="date" content="2022-07-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="welcome-to-the-tidyverse.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">CDABS R Series</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i><b>1.1</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i><b>1.2</b> License</a></li>
</ul></li>
<li class="part"><span><b>Session I</b></span></li>
<li class="chapter" data-level="2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html"><i class="fa fa-check"></i><b>2</b> Introduction to R and RStudio</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#learning-objectives"><i class="fa fa-check"></i><b>2.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#why-learn-r"><i class="fa fa-check"></i><b>2.2</b> Why learn R?</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#starting-out-in-r"><i class="fa fa-check"></i><b>2.3</b> Starting out in R</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#downloading-installing-and-running-r"><i class="fa fa-check"></i><b>2.3.1</b> Downloading, Installing and Running R</a></li>
<li class="chapter" data-level="2.3.2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#rstudio"><i class="fa fa-check"></i><b>2.3.2</b> RStudio</a></li>
<li class="chapter" data-level="2.3.3" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#rstudio-cloud"><i class="fa fa-check"></i><b>2.3.3</b> RStudio Cloud</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#using-this-book"><i class="fa fa-check"></i><b>2.4</b> Using this book</a></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#working-in-the-console"><i class="fa fa-check"></i><b>2.5</b> Working in the Console</a></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#objects"><i class="fa fa-check"></i><b>2.6</b> Objects</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#creating-objects"><i class="fa fa-check"></i><b>2.6.1</b> Creating Objects</a></li>
<li class="chapter" data-level="2.6.2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#working-with-objects"><i class="fa fa-check"></i><b>2.6.2</b> Working with Objects</a></li>
<li class="chapter" data-level="2.6.3" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#naming-objects"><i class="fa fa-check"></i><b>2.6.3</b> Naming Objects</a></li>
<li class="chapter" data-level="2.6.4" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#challenge"><i class="fa fa-check"></i><b>2.6.4</b> Challenge</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#saving-code-in-an-r-script"><i class="fa fa-check"></i><b>2.7</b> Saving code in an R script</a></li>
<li class="chapter" data-level="2.8" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#setting-your-working-directory"><i class="fa fa-check"></i><b>2.8</b> Setting your Working Directory</a></li>
<li class="chapter" data-level="2.9" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#functions-and-their-arguments"><i class="fa fa-check"></i><b>2.9</b> Functions and their arguments</a>
<ul>
<li class="chapter" data-level="2.9.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#getting-help"><i class="fa fa-check"></i><b>2.9.1</b> Getting Help</a></li>
<li class="chapter" data-level="2.9.2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#challenge-using-functions"><i class="fa fa-check"></i><b>2.9.2</b> Challenge: using functions</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#packages"><i class="fa fa-check"></i><b>2.10</b> Packages</a></li>
<li class="chapter" data-level="2.11" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#vectors"><i class="fa fa-check"></i><b>2.11</b> Vectors</a>
<ul>
<li class="chapter" data-level="2.11.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#what-is-a-vector"><i class="fa fa-check"></i><b>2.11.1</b> What is a Vector?</a></li>
<li class="chapter" data-level="2.11.2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#working-with-vectors"><i class="fa fa-check"></i><b>2.11.2</b> Working with Vectors</a></li>
<li class="chapter" data-level="2.11.3" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#missing-data"><i class="fa fa-check"></i><b>2.11.3</b> Missing Data</a></li>
<li class="chapter" data-level="2.11.4" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#mixing-data-types"><i class="fa fa-check"></i><b>2.11.4</b> Mixing Data Types</a></li>
<li class="chapter" data-level="2.11.5" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#indexing-and-subsetting-vectors"><i class="fa fa-check"></i><b>2.11.5</b> Indexing and Subsetting vectors</a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#data-frames-tibbles-and-exploring-data"><i class="fa fa-check"></i><b>2.12</b> Data frames, Tibbles, and Exploring Data</a>
<ul>
<li class="chapter" data-level="2.12.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#creating-data-frames"><i class="fa fa-check"></i><b>2.12.1</b> Creating data frames</a></li>
<li class="chapter" data-level="2.12.2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#exploring-data-frames"><i class="fa fa-check"></i><b>2.12.2</b> Exploring data frames</a></li>
<li class="chapter" data-level="2.12.3" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#quickly-exploring-data-with-plots"><i class="fa fa-check"></i><b>2.12.3</b> Quickly exploring data with plots</a></li>
</ul></li>
<li class="chapter" data-level="2.13" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#exercises"><i class="fa fa-check"></i><b>2.13</b> Exercises</a></li>
</ul></li>
<li class="part"><span><b>Session II</b></span></li>
<li class="chapter" data-level="3" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html"><i class="fa fa-check"></i><b>3</b> Welcome to the Tidyverse</a>
<ul>
<li class="chapter" data-level="3.1" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#what-is-tidy-data"><i class="fa fa-check"></i><b>3.1</b> What is Tidy Data?</a></li>
<li class="chapter" data-level="3.2" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#getting-set-up"><i class="fa fa-check"></i><b>3.2</b> Getting set up</a></li>
<li class="chapter" data-level="3.3" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#install"><i class="fa fa-check"></i><b>3.3</b> Install</a></li>
<li class="chapter" data-level="3.4" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#the-data"><i class="fa fa-check"></i><b>3.4</b> The Data</a></li>
<li class="chapter" data-level="3.5" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#importing-data"><i class="fa fa-check"></i><b>3.5</b> Importing data</a></li>
<li class="chapter" data-level="3.6" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#exploring-data"><i class="fa fa-check"></i><b>3.6</b> Exploring Data</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#challenge-1"><i class="fa fa-check"></i><b>3.6.1</b> Challenge</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#wrangling-data-with-dplyr"><i class="fa fa-check"></i><b>3.7</b> Wrangling data with <code>dplyr</code></a></li>
<li class="chapter" data-level="3.8" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#subsetting-data"><i class="fa fa-check"></i><b>3.8</b> Subsetting Data</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#subsetting-columns-with-select"><i class="fa fa-check"></i><b>3.8.1</b> Subsetting Columns with <code>Select()</code></a></li>
<li class="chapter" data-level="3.8.2" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#renaming-columns"><i class="fa fa-check"></i><b>3.8.2</b> Renaming columns</a></li>
<li class="chapter" data-level="3.8.3" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#subsetting-rows-with-filter"><i class="fa fa-check"></i><b>3.8.3</b> Subsetting rows with <code>filter()</code></a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#working-with-dates"><i class="fa fa-check"></i><b>3.9</b> Working with Dates</a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#date-intervals-durations-and-periods"><i class="fa fa-check"></i><b>3.9.1</b> Date intervals, durations, and periods</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#creating-new-columns-with-mutate"><i class="fa fa-check"></i><b>3.10</b> Creating new columns with <code>mutate()</code></a></li>
<li class="chapter" data-level="3.11" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#grouping-and-summarizing-data"><i class="fa fa-check"></i><b>3.11</b> Grouping and Summarizing data</a></li>
<li class="chapter" data-level="3.12" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#sorting-datasets-with-arrange"><i class="fa fa-check"></i><b>3.12</b> Sorting datasets with <code>arrange()</code></a></li>
<li class="chapter" data-level="3.13" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#joining-datasets"><i class="fa fa-check"></i><b>3.13</b> Joining Datasets</a>
<ul>
<li class="chapter" data-level="3.13.1" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#long-vs-wide-formats"><i class="fa fa-check"></i><b>3.13.1</b> Long vs Wide formats</a></li>
</ul></li>
<li class="chapter" data-level="3.14" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#writing-data"><i class="fa fa-check"></i><b>3.14</b> Writing Data</a>
<ul>
<li class="chapter" data-level="3.14.1" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#challenge-2"><i class="fa fa-check"></i><b>3.14.1</b> Challenge</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Session III</b></span></li>
<li class="chapter" data-level="4" data-path="plotting-with-ggplot2.html"><a href="plotting-with-ggplot2.html"><i class="fa fa-check"></i><b>4</b> Plotting with ggplot2</a></li>
<li class="part"><span><b>Session IV</b></span></li>
<li class="chapter" data-level="5" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html"><i class="fa fa-check"></i><b>5</b> Reproducible Project Management</a>
<ul>
<li class="chapter" data-level="5.1" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#rstudio-projects"><i class="fa fa-check"></i><b>5.1</b> RStudio Projects</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#what-is-real"><i class="fa fa-check"></i><b>5.1.1</b> What is Real?</a></li>
<li class="chapter" data-level="5.1.2" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#where-does-your-analysis-live"><i class="fa fa-check"></i><b>5.1.2</b> Where does your analysis live?</a></li>
<li class="chapter" data-level="5.1.3" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#createRproj"><i class="fa fa-check"></i><b>5.1.3</b> Creating an RStudio project</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#version-control-and-rstudio"><i class="fa fa-check"></i><b>5.2</b> Version Control and RStudio</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#why-git"><i class="fa fa-check"></i><b>5.2.1</b> Why Git?</a></li>
<li class="chapter" data-level="5.2.2" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#whats-github"><i class="fa fa-check"></i><b>5.2.2</b> What’s GitHub?</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#settingupremote"><i class="fa fa-check"></i><b>5.3</b> Setting up a remote repository on Github</a></li>
<li class="chapter" data-level="5.4" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#connecting-rstudio-to-github"><i class="fa fa-check"></i><b>5.4</b> Connecting Rstudio to Github</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#introduce-yourself-to-git"><i class="fa fa-check"></i><b>5.4.1</b> Introduce yourself to Git</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#get-a-personal-access-token-pat"><i class="fa fa-check"></i><b>5.5</b> Get a personal access token (PAT)</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#create-the-pat"><i class="fa fa-check"></i><b>5.5.1</b> Create the PAT</a></li>
<li class="chapter" data-level="5.5.2" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#put-your-pat-into-the-git-credential-store"><i class="fa fa-check"></i><b>5.5.2</b> Put your PAT into the Git credential store</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#checking-out-a-project-from-a-version-control-remote-repository"><i class="fa fa-check"></i><b>5.6</b> Checking out a project from a version control remote repository</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#clone-the-new-github-repository-to-your-computer-via-rstudio"><i class="fa fa-check"></i><b>5.6.1</b> Clone the new GitHub repository to your computer via RStudio</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#making-some-changes-save-commit."><i class="fa fa-check"></i><b>5.7</b> Making some changes, save, commit.</a></li>
<li class="chapter" data-level="5.8" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#push-your-local-changes-online-to-github"><i class="fa fa-check"></i><b>5.8</b> Push your local changes online to GitHub</a></li>
<li class="chapter" data-level="5.9" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#confirm-the-local-change-propagated-to-the-github-remote"><i class="fa fa-check"></i><b>5.9</b> Confirm the local change propagated to the GitHub remote</a></li>
<li class="chapter" data-level="5.10" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#clean-up"><i class="fa fa-check"></i><b>5.10</b> Clean up</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html"><i class="fa fa-check"></i><b>6</b> Reproducible Reports with R Markdown</a>
<ul>
<li class="chapter" data-level="6.1" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#what-is-r-markdown"><i class="fa fa-check"></i><b>6.1</b> What is R Markdown</a></li>
<li class="chapter" data-level="6.2" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#r-markdown-related-packages"><i class="fa fa-check"></i><b>6.2</b> R Markdown Related Packages</a></li>
<li class="chapter" data-level="6.3" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#how-does-r-markdown-work"><i class="fa fa-check"></i><b>6.3</b> How does R Markdown work</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#creating-an-r-markdown-file"><i class="fa fa-check"></i><b>6.3.1</b> Creating an R Markdown file</a></li>
<li class="chapter" data-level="6.3.2" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#r-markdown-basic-components"><i class="fa fa-check"></i><b>6.3.2</b> R Markdown Basic Components</a></li>
<li class="chapter" data-level="6.3.3" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#markdown"><i class="fa fa-check"></i><b>6.3.3</b> Markdown</a></li>
<li class="chapter" data-level="6.3.4" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#r-code-chunks"><i class="fa fa-check"></i><b>6.3.4</b> R code chunks</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#resources-for-r-markdown"><i class="fa fa-check"></i><b>6.4</b> Resources for R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="shiny-apps.html"><a href="shiny-apps.html"><i class="fa fa-check"></i><b>7</b> Shiny Apps</a>
<ul>
<li class="chapter" data-level="7.1" data-path="shiny-apps.html"><a href="shiny-apps.html#shiny-tutorial-2"><i class="fa fa-check"></i><b>7.1</b> Shiny app basics</a></li>
<li class="chapter" data-level="7.2" data-path="shiny-apps.html"><a href="shiny-apps.html#create-an-empty-shiny-app"><i class="fa fa-check"></i><b>7.2</b> Create an empty Shiny app</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="shiny-apps.html"><a href="shiny-apps.html#alternate-way-to-create-a-shiny-app-separate-ui-and-server-files"><i class="fa fa-check"></i><b>7.2.1</b> Alternate way to create a Shiny app: separate UI and server files</a></li>
<li class="chapter" data-level="7.2.2" data-path="shiny-apps.html"><a href="shiny-apps.html#let-rstudio-fill-out-a-shiny-app-template-for-you"><i class="fa fa-check"></i><b>7.2.2</b> Let RStudio fill out a Shiny app template for you</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="shiny-apps.html"><a href="shiny-apps.html#an-example-shiny-app"><i class="fa fa-check"></i><b>7.3</b> An example Shiny App</a></li>
<li class="chapter" data-level="7.4" data-path="shiny-apps.html"><a href="shiny-apps.html#host-your-shiny-app"><i class="fa fa-check"></i><b>7.4</b> Host your Shiny App</a></li>
<li class="chapter" data-level="7.5" data-path="shiny-apps.html"><a href="shiny-apps.html#resources"><i class="fa fa-check"></i><b>7.5</b> Resources</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="further-resources.html"><a href="further-resources.html"><i class="fa fa-check"></i><b>A</b> Further Resources</a>
<ul>
<li class="chapter" data-level="A.1" data-path="further-resources.html"><a href="further-resources.html#installing-r-and-rstudio"><i class="fa fa-check"></i><b>A.1</b> Installing R and RStudio</a></li>
<li class="chapter" data-level="A.2" data-path="further-resources.html"><a href="further-resources.html#using-rstudio"><i class="fa fa-check"></i><b>A.2</b> Using RStudio</a></li>
<li class="chapter" data-level="A.3" data-path="further-resources.html"><a href="further-resources.html#the-tidyverse"><i class="fa fa-check"></i><b>A.3</b> The Tidyverse</a></li>
<li class="chapter" data-level="A.4" data-path="further-resources.html"><a href="further-resources.html#graphing-in-r"><i class="fa fa-check"></i><b>A.4</b> Graphing in R</a></li>
<li class="chapter" data-level="A.5" data-path="further-resources.html"><a href="further-resources.html#r-based-technologies"><i class="fa fa-check"></i><b>A.5</b> R Based Technologies</a></li>
<li class="chapter" data-level="A.6" data-path="further-resources.html"><a href="further-resources.html#git-github"><i class="fa fa-check"></i><b>A.6</b> Git &amp; Github</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="selected-glossary-of-r-terminology.html"><a href="selected-glossary-of-r-terminology.html"><i class="fa fa-check"></i><b>B</b> Selected Glossary of R Terminology</a></li>
<li class="chapter" data-level="C" data-path="packages-and-functions-used.html"><a href="packages-and-functions-used.html"><i class="fa fa-check"></i><b>C</b> Packages and Functions Used</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">CDABS R Workshop Series</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-to-r-and-rstudio" class="section level1 hasAnchor" number="2">
<h1><span class="header-section-number">Chapter 2</span> Introduction to R and RStudio<a href="introduction-to-r-and-rstudio.html#introduction-to-r-and-rstudio" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>The next two chapters will provide you with a hands on opportunity to
learn R and RStudio. While R is a big topic and we will not be able to
cover everything, by the end of this session we hope that you will feel
comfortable starting to use R on your own.</p>
<div id="learning-objectives" class="section level2 hasAnchor" number="2.1">
<h2><span class="header-section-number">2.1</span> Learning Objectives<a href="introduction-to-r-and-rstudio.html#learning-objectives" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Understand the value of learning R</li>
<li>Navigate RStudio</li>
<li>Define terms: object, function, argument, package, vector, data
frame.</li>
<li>Use help documentation in RStudio.</li>
</ul>
</div>
<div id="why-learn-r" class="section level2 hasAnchor" number="2.2">
<h2><span class="header-section-number">2.2</span> Why learn R?<a href="introduction-to-r-and-rstudio.html#why-learn-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><p><strong>R is free, open-source, and cross-platform.</strong> Anyone can inspect
the source code to see how R works. Because of this transparency,
there is less chance for mistakes, and if you (or someone else) find
some, you can report and fix bugs. Because R is open source and is
supported by a large community of developers and users, there is a
very large selection of third-party add-on packages which are freely
available to extend R’s native capabilities.</p></li>
<li><p><strong>R code is great for reproducibility</strong>. Reproducibility is when
someone else (including your future self) can obtain the same
results from the same dataset when using the same analysis. R
integrates with other tools to generate manuscripts from your code.
If you collect more data, or fix a mistake in your dataset, the
figures and the statistical tests in your manuscript are updated
automatically.</p></li>
<li><p><strong>R relies on a series of written commands, not on remembering a
succession of pointing and clicking.</strong> If you want to redo your
analysis because you collected more data, you don’t have to remember
which button you clicked in which order to obtain your results; you
just have to run your script again.</p></li>
<li><p><strong>R is interdisciplinary and extensible</strong> With 10,000+ packages that
can be installed to extend its capabilities, R provides a framework
that allows you to combine statistical approaches from many
scientific disciplines to best suit the analytical framework you
need to analyze your data. For instance, R has packages for image
analysis, GIS, time series, population genetics, and a lot more.</p></li>
<li><p><strong>R works on data of all shapes and sizes.</strong> The skills you learn
with R scale easily with the size of your dataset. Whether your
dataset has hundreds or millions of lines, it won’t make much
difference to you. R is designed for data analysis. It comes with
special data structures and data types that make handling of missing
data and statistical factors convenient. R can connect to
spreadsheets, databases, and many other data formats, on your
computer or on the web.</p></li>
<li><p><strong>R produces high-quality graphics.</strong> The plotting functionalities
in R are endless, and allow you to adjust any aspect of your graph
to convey most effectively the message from your data.</p></li>
<li><p><strong>R has a large and welcoming community.</strong> Thousands of people use R
daily. Many of them are willing to help you through mailing lists
and websites such as <a href="https://stackoverflow.com/">Stack Overflow</a>,
or on the <a href="https://community.rstudio.com/">RStudio community</a>.
Questions which are backed up with <a href="https://www.tidyverse.org/help/">short, reproducible code
snippets</a> are more likely to
attract knowledgeable responses.</p></li>
</ul>
</div>
<div id="starting-out-in-r" class="section level2 hasAnchor" number="2.3">
<h2><span class="header-section-number">2.3</span> Starting out in R<a href="introduction-to-r-and-rstudio.html#starting-out-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="https://cran.rstudio.com/">R</a> is both a programming language and an
interactive environment for data exploration and statistics.</p>
<p>Working with R is primarily text-based. The basic mode of use for R is
that the user provides commands in the R language and then R computes
and displays the result.</p>
<div id="downloading-installing-and-running-r" class="section level3 hasAnchor" number="2.3.1">
<h3><span class="header-section-number">2.3.1</span> Downloading, Installing and Running R<a href="introduction-to-r-and-rstudio.html#downloading-installing-and-running-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>Download</strong><br />
R can be downloaded from <a href="https://cran.rstudio.com/index.html">CRAN (The Comprehensive R Archive
Network)</a> for Windows, Linux, or
Mac.</p>
<p><strong>Install</strong><br />
Installation of R is like most software packages and you will be guided.
Should you have any issues or need help you can refer to <a href="https://cran.r-project.org/doc/manuals/r-release/R-admin.html">R Installation
and
Administration</a></p>
<p><strong>Running</strong><br />
R can be launched from your software or applications launcher or When
working at a command line on UNIX or Windows, the command <code>R</code> can be
used for starting the main R program in the form <code>R</code></p>
<p>You will see a console similar to this appear:</p>
<p><img src="images/console.png" width="414" style="display: block; margin: auto;" /></p>
<p>While it is possible to work solely through the console or using a
command line interface, the ideal environment to work in R is RStudio.</p>
</div>
<div id="rstudio" class="section level3 hasAnchor" number="2.3.2">
<h3><span class="header-section-number">2.3.2</span> RStudio<a href="introduction-to-r-and-rstudio.html#rstudio" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="https://www.rstudio.com/products/rstudio/download/">RStudio</a> is a user interface for working with R. It is called an Integrated Development Environment (IDE): a piece of software that provides tools to make programming easier. RStudio acts as a sort of wrapper around the R language. You can use R without RStudio, but it’s much more limiting. RStudio makes it easier to import datasets, create and write scripts, and makes using R much more effective. RStudio is also free and open source. To function correctly, RStudio needs R and therefore both need to be installed on your computer. But for this class we’ll be using a browser based version called RStudio Cloud (see directions in the <a href="introduction-to-r-and-rstudio.html#rstudio-cloud">RStudio Cloud</a> section below.)</p>
<p>RStudio is divided into four “panes”. The placement of these panes and
their content can be customized (see menu, Tools -&gt; Global Options -&gt;
Pane Layout).</p>
<p>The Default Layout is:</p>
<ul>
<li>Top Left - <strong>Source</strong>: your scripts and documents</li>
<li>Bottom Left - <strong>Console</strong>: what R would look and be like without
RStudio</li>
<li>Top Right - <strong>Environment/History</strong>: look here to see what you have
done</li>
<li>Bottom Right - <strong>Files</strong> and more: see the contents of the
project/working directory here, like your Script.R file</li>
</ul>
<p><img src="images/rstudio.png" width="1002" style="display: block; margin: auto;" /></p>
</div>
<div id="rstudio-cloud" class="section level3 hasAnchor" number="2.3.3">
<h3><span class="header-section-number">2.3.3</span> RStudio Cloud<a href="introduction-to-r-and-rstudio.html#rstudio-cloud" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>RStudio Cloud is a browser-based version of RStudio. It will allow you
to use RStudio without needing to download anything to your computer.
You can also easily share your R projects with others. While we
recommend downloading RStudio for regular use, we will be using RStudio
Cloud for these workshops so we can easily share files and packages with
you.</p>
<p>Get Started:</p>
<ol style="list-style-type: decimal">
<li>Create your free RStudio Cloud account at
<a href="https://rstudio.cloud/plans/free" class="uri">https://rstudio.cloud/plans/free</a>.</li>
<li>Go to the class project <a href="https://rstudio.cloud/content/4241048" class="uri">https://rstudio.cloud/content/4241048</a></li>
<li>Note the text that marks this as a Temporary Copy. Select the
<code>Save a Permanent Copy</code> button to begin working!</li>
</ol>
</div>
</div>
<div id="using-this-book" class="section level2 hasAnchor" number="2.4">
<h2><span class="header-section-number">2.4</span> Using this book<a href="introduction-to-r-and-rstudio.html#using-this-book" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>For these instructions code will appear in the gray box as follows:</strong></p>
<pre><code>fake code</code></pre>
<p>To run the code you can copy and paste the code and run it in your
RStudio session console at the prompt <code>&gt;</code> which looks like a greater
than symbol.</p>
<pre><code>&gt; fake code</code></pre>
<p>The code can also be added to an R Script to be run.</p>
<p>When the code is run in RStudio the console prints out results like so:</p>
<pre><code>[1] Result</code></pre>
<p>In this tutorial results from code will appear like so:</p>
<pre><code>## [1] Result</code></pre>
</div>
<div id="working-in-the-console" class="section level2 hasAnchor" number="2.5">
<h2><span class="header-section-number">2.5</span> Working in the Console<a href="introduction-to-r-and-rstudio.html#working-in-the-console" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The console is an interactive environment for RStudio, click on the
“Console” pane, type <code>3 + 3</code> and press enter. R displays the result of
the calculation.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r source"><code class="sourceCode r"><span id="cb6-1"><a href="introduction-to-r-and-rstudio.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="dv">3</span> <span class="sc">+</span> <span class="dv">3</span></span></code></pre></div>
<pre class="output"><code>## [1] 6</code></pre>
<p><code>+</code> is called an operator. R has the operators you would expect for for
basic mathematics:</p>
<p><strong>Arithmetic operators</strong><br></p>
<table>
<thead>
<tr class="header">
<th align="left">operator</th>
<th align="left">meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">+</td>
<td align="left">plus</td>
</tr>
<tr class="even">
<td align="left">-</td>
<td align="left">minus</td>
</tr>
<tr class="odd">
<td align="left">*</td>
<td align="left">times</td>
</tr>
<tr class="even">
<td align="left">/</td>
<td align="left">divided by</td>
</tr>
<tr class="odd">
<td align="left">^</td>
<td align="left">exponent</td>
</tr>
</tbody>
</table>
<p><strong>Logical Operators</strong><br></p>
<table>
<thead>
<tr class="header">
<th align="left">operator</th>
<th align="left">meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">==</td>
<td align="left">exactly equal</td>
</tr>
<tr class="even">
<td align="left">!=</td>
<td align="left">not equal to</td>
</tr>
<tr class="odd">
<td align="left">&lt;</td>
<td align="left">less than</td>
</tr>
<tr class="even">
<td align="left">&lt;=</td>
<td align="left">less than or equal to</td>
</tr>
<tr class="odd">
<td align="left">&gt;</td>
<td align="left">greater than</td>
</tr>
<tr class="even">
<td align="left">&gt;=</td>
<td align="left">greater than or equal to</td>
</tr>
<tr class="odd">
<td align="left">x|y</td>
<td align="left">x or y</td>
</tr>
<tr class="even">
<td align="left">x&amp;y</td>
<td align="left">x and y</td>
</tr>
<tr class="odd">
<td align="left">!x</td>
<td align="left">not x</td>
</tr>
</tbody>
</table>
<p>Spaces can be used to make code easier to read.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="introduction-to-r-and-rstudio.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span> <span class="sc">*</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">4</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="objects" class="section level2 hasAnchor" number="2.6">
<h2><span class="header-section-number">2.6</span> Objects<a href="introduction-to-r-and-rstudio.html#objects" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="creating-objects" class="section level3 hasAnchor" number="2.6.1">
<h3><span class="header-section-number">2.6.1</span> Creating Objects<a href="introduction-to-r-and-rstudio.html#creating-objects" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>When you have certain values, data, plots, etc that you want to work
with You can create objects (make assignments) in R with the assignment
operator <code>&lt;-</code>:</p>
<p>All R statements where you create objects, assignment statements, have
the same form:</p>
<pre><code>object_name &lt;- value</code></pre>
<p>When reading that code say “object name gets value” in your head.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="introduction-to-r-and-rstudio.html#cb11-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">3</span> <span class="sc">*</span> <span class="dv">4</span></span>
<span id="cb11-2"><a href="introduction-to-r-and-rstudio.html#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="introduction-to-r-and-rstudio.html#cb11-3" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 12</code></pre>
<p>Once you have an object you can do other calculations with it.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="introduction-to-r-and-rstudio.html#cb13-1" aria-hidden="true" tabindex="-1"></a>x <span class="sc">*</span> x</span></code></pre></div>
<pre><code>## [1] 144</code></pre>
<div class="shaded tip">
<p><strong>Objects vs. Variables</strong><br> What are known as objects in R are known
as variables in many other programming languages. Depending on the
context, object and variable can have drastically different meanings.
However, in this lesson, the two words are used synonymously. For more
information see:
<a href="https://cran.r-project.org/doc/manuals/r-release/R-lang.html#Objects" class="uri">https://cran.r-project.org/doc/manuals/r-release/R-lang.html#Objects</a></p>
</div>
</div>
<div id="working-with-objects" class="section level3 hasAnchor" number="2.6.2">
<h3><span class="header-section-number">2.6.2</span> Working with Objects<a href="introduction-to-r-and-rstudio.html#working-with-objects" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>That last example was kind of abstract. So let’s look at a more
practical example.</p>
<p>Let’s do some calculations with the population of Maryland <a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a>.
First we can save the population number to an object. We will call it
<code>md_pop</code> because that is short, descriptive, and easy to remember.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="introduction-to-r-and-rstudio.html#cb15-1" aria-hidden="true" tabindex="-1"></a>md_pop <span class="ot">&lt;-</span> <span class="dv">6165129</span></span></code></pre></div>
<p>What percentage of the Maryland population is over 18? According to the
Census Bureau <a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>, 78% of the Maryland population is over 18.
We can use that to calculate the number of adults in Maryland.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="introduction-to-r-and-rstudio.html#cb16-1" aria-hidden="true" tabindex="-1"></a>md_adult_pop <span class="ot">&lt;-</span> .<span class="dv">78</span> <span class="sc">*</span> md_pop</span></code></pre></div>
<p>Next, we want to know what percentage of people in Maryland have been
fully vaccinated for COVID-19. As of early July 2022 4.68 million people
of all ages have been vaccinated in Maryland <a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>. So let’s
create another object:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="introduction-to-r-and-rstudio.html#cb17-1" aria-hidden="true" tabindex="-1"></a>md_vax_pop <span class="ot">&lt;-</span> <span class="dv">4682799</span></span></code></pre></div>
<p>Now we can calculate the percentage of the Maryland population that is
vaccinated.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="introduction-to-r-and-rstudio.html#cb18-1" aria-hidden="true" tabindex="-1"></a>percent_vax <span class="ot">&lt;-</span> (md_vax_pop <span class="sc">/</span> md_pop) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb18-2"><a href="introduction-to-r-and-rstudio.html#cb18-2" aria-hidden="true" tabindex="-1"></a>percent_vax</span></code></pre></div>
<pre><code>## [1] 75.95622</code></pre>
<p>As more people get vaccinated this can be updated. Let’s say later in
year we have 4.9 million Marylanders who are fully vaccinated. We can
re-assign the value of <code>md_vax_pop</code></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="introduction-to-r-and-rstudio.html#cb20-1" aria-hidden="true" tabindex="-1"></a>md_vax_pop <span class="ot">&lt;-</span> <span class="dv">4900000</span></span></code></pre></div>
<p>Then recalculate <code>percent_vax</code></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="introduction-to-r-and-rstudio.html#cb21-1" aria-hidden="true" tabindex="-1"></a>percent_vax <span class="ot">&lt;-</span> (md_vax_pop <span class="sc">/</span> md_pop) <span class="sc">*</span> <span class="dv">100</span></span>
<span id="cb21-2"><a href="introduction-to-r-and-rstudio.html#cb21-2" aria-hidden="true" tabindex="-1"></a>percent_vax</span></code></pre></div>
<pre><code>## [1] 79.47928</code></pre>
<div class="shaded tip">
<p><strong>Tip</strong><br> You will make lots of assignments and <code>&lt;-</code> is a pain to
type. Avoid the temptation to use <code>=</code>: it will work, but it will cause
confusion later. Instead, use RStudio’s keyboard shortcut:
<kbd><code>Alt + -</code></kbd> (the minus sign).</p>
<p>Notice that RStudio automagically surrounds <code>&lt;-</code> with spaces, which is a
good code formatting practice. Code is miserable to read on a good day,
so giveyoureyesabreak and use spaces.</p>
</div>
</div>
<div id="naming-objects" class="section level3 hasAnchor" number="2.6.3">
<h3><span class="header-section-number">2.6.3</span> Naming Objects<a href="introduction-to-r-and-rstudio.html#naming-objects" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The name for objects must start with a letter, and can only contain
letters, numbers, underscores (<code>_</code>)and periods (<code>.</code>). The name of the
object should describe what is being assigned so they typically will be
multiple words. One convention used is <strong>snake_case</strong> where lowercase
words are separated with <code>_</code>. Another popular style is <strong>camelCase</strong>
where compound words or phrases are written so that each word or
abbreviation in the middle of the phrase begins with a capital letter,
with no intervening spaces or punctuation and the first letter is
lowercase.</p>
<pre><code>    thisIsCamelCase
    some_use_snake_case
    others.use.periods                  #avoid
    Others_pRefer.to_RENOUNCEconvention #avoid
</code></pre>
</div>
<div id="challenge" class="section level3 hasAnchor" number="2.6.4">
<h3><span class="header-section-number">2.6.4</span> Challenge<a href="introduction-to-r-and-rstudio.html#challenge" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="shaded question">
<p><strong>Question</strong> <br> Earlier you created an object called <code>md_adult_pop</code>
which used Census data to calculate the number of adults living in
Maryland. According to the CDC<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a>, 4040544 adults in Maryland have been
fully vaccinated against COVID-19.</p>
<ol style="list-style-type: decimal">
<li>Assign the number of fully
vaccinated adults in Maryland to a new object.</li>
<li>Use the new object
together with <code>md_adult_pop</code> to calculate the percentage of adults in
Maryland who are fully vaccinated. Save this to an object called
<code>md_adult_percent_vax</code>.</li>
</ol>
</div>
</div>
</div>
<div id="saving-code-in-an-r-script" class="section level2 hasAnchor" number="2.7">
<h2><span class="header-section-number">2.7</span> Saving code in an R script<a href="introduction-to-r-and-rstudio.html#saving-code-in-an-r-script" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>It might seem like you could just as easily calculate the percentage of
vaccinated Marylanders by hand. But what if you had to do it again and
again, multiple times a day, for days on end? What if you had to make
sure multiple people on your team could perform the same task?</p>
<p>This is where the real strength of R as a programming language comes in.
You can save all the steps of your analysis to a <em>script</em>. This is
especially powerful if you have long and complicated analyses. It is how
R contributes to reproducible and open science.</p>
<p>Open the file vax_count.R. Here we have recorded the steps we just took.
So let’s say you were training a new employee to run this very important
analysis. Now all they have to do is input the new vaccination number,
and run the script.</p>
<p>The usual workflow is to save your code in an R script (“.R file”). Go
to “File/New File/R Script” to create a new R script. Code in your R
script can be sent to the console by selecting it or placing the cursor
on the correct line, and then pressing <strong>Control-Enter</strong>
(<strong>Command-Enter</strong> on a Mac).</p>
<div class="shaded tip">
<p><strong>Tip</strong><br> Add comments to code, using lines starting with the <code>#</code>
character. This makes it easier for others to follow what the code is
doing (and also for us the next time we come back to it).</p>
</div>
</div>
<div id="setting-your-working-directory" class="section level2 hasAnchor" number="2.8">
<h2><span class="header-section-number">2.8</span> Setting your Working Directory<a href="introduction-to-r-and-rstudio.html#setting-your-working-directory" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The working directory is the location within which R points to the files
system. RStudio sets up a default working directory, typically the home
directory of the computer, which can be changed in the global options
setting in RStudio.</p>
<p>In the code samples provided the data files are located in the R working
directory, which can be found with the function <code>getwd</code>.</p>
<pre><code>getwd() # get current working directory</code></pre>
<p>You can select a different working directory with the function
<code>setwd()</code>, and thus avoid entering the full path of the data files.</p>
<pre><code>setwd(&quot;&lt;new path&gt;&quot;)   # set working directory</code></pre>
<p>Note that the forward slash should be used as the path separator even on
Windows platform.</p>
<pre><code>setwd(&quot;C:/MyDoc&quot;)</code></pre>
<p>Alternatively you can go to the working directory and set the working
directory using the files panel and clicking the gear wheel for “more”
within RStudio.</p>
<p><img src="images/workingDir01.png" width="246" style="display: block; margin: auto;" /></p>
<p>Or by selecting the drop down list found in Tools(Windows) or
Session(Mac) in the menu at the top of the RStudio window.</p>
<p><img src="images/workingDir02.png" width="238" style="display: block; margin: auto;" /></p>
</div>
<div id="functions-and-their-arguments" class="section level2 hasAnchor" number="2.9">
<h2><span class="header-section-number">2.9</span> Functions and their arguments<a href="introduction-to-r-and-rstudio.html#functions-and-their-arguments" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Functions are “canned scripts” that automate more complicated sets of
commands including operations assignments, etc. Many functions are
predefined, or can be made available by importing R <em>packages</em> (more on
that later). A function usually gets one or more inputs called
<em>arguments</em>. Functions often (but not always) return a <em>value</em>.</p>
<p>A typical example would be the function <code>round()</code>. The input (the
argument) must be a number, and the return value (in fact, the output)
is that number rounded to the nearest whole number. Executing a function
(‘running it’) is called <em>calling</em> the function. You can save the output
of a function to an object. The format would look like:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="introduction-to-r-and-rstudio.html#cb27-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">round</span>(a)</span></code></pre></div>
<p>Here, the value of <code>a</code> is given to the <code>round()</code> function, the <code>round()</code>
function rounds the number, and returns the value which is then assigned
to the object <code>b</code>.</p>
<p>The return ‘value’ of a function need not be numerical (like that of
<code>sqrt()</code>), and it also does not need to be a single item: it can be a
set of things, or even a dataset. We’ll see that when we read data files
into R.</p>
<p>Arguments can be anything, not only numbers or filenames, but also other
objects. Exactly what each argument means differs per function, and must
be looked up in the documentation (see below). Some functions take
arguments which may either be specified by the user, or, if left out,
take on a <em>default</em> value: these are called <em>options</em>. Options are
typically used to alter the way the function operates, such as whether
it ignores ‘bad values’, or what symbol to use in a plot. However, if
you want something specific, you can specify a value of your choice
which will be used instead of the default.</p>
<p><code>round()</code> only needs one argument, a number, or object that is storing a
numerical value.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="introduction-to-r-and-rstudio.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(percent_vax)</span></code></pre></div>
<pre><code>## [1] 79</code></pre>
<p>Here, we’ve called <code>round()</code> on our percent_vax object and it returned
79. That’s because the default action of the
function is to round to the nearest whole number. If we want more digits
we can see how to do that by getting information about the <code>round</code>
function. We can use <code>args(round)</code> or look at the help for this function
using <code>?round</code>.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="introduction-to-r-and-rstudio.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">args</span>(round)</span></code></pre></div>
<pre><code>## function (x, digits = 0) 
## NULL</code></pre>
<p>We see that if we want a different number of digits, we can type
<code>digits=2</code> or however many we want.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="introduction-to-r-and-rstudio.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(percent_vax, <span class="at">digits =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 79.48</code></pre>
<p>If you provide the arguments in the exact same order as they are defined
you don’t have to name them:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="introduction-to-r-and-rstudio.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(percent_vax, <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 79.48</code></pre>
<p>And if you do name the arguments, you can switch their order:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="introduction-to-r-and-rstudio.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="at">digits =</span> <span class="dv">2</span>, <span class="at">x =</span> percent_vax)</span></code></pre></div>
<pre><code>## [1] 79.48</code></pre>
<p>It’s good practice to put the non-optional arguments (like the number
you’re rounding) first in your function call, and to specify the names
of all optional arguments. If you don’t, someone reading your code might
have to look up the definition of a function with unfamiliar arguments
to understand what you’re doing.</p>
<div id="getting-help" class="section level3 hasAnchor" number="2.9.1">
<h3><span class="header-section-number">2.9.1</span> Getting Help<a href="introduction-to-r-and-rstudio.html#getting-help" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>In the previous example we looked up the arguments to <code>round()</code> using
<code>args(round)</code> alternatively we couldve looked at the help page for
<code>round()</code> to find this out with <code>?round</code>. To get help about a particular
package or function you can access the help pane in RStudio and type its
name in the search box.</p>
<p><img src="images/help.png" width="80%" style="display: block; margin: auto;" /></p>
<p>The <code>help()</code> function and <code>?</code> help operator in R provide access to the
documentation pages for R functions, data sets, and other objects, both
for packages in the standard R distribution and for contributed
packages. To do so type as follows</p>
<pre><code>help({function})
help(package = {package name})

?{function}
?&quot;{package name}&quot;</code></pre>
</div>
<div id="challenge-using-functions" class="section level3 hasAnchor" number="2.9.2">
<h3><span class="header-section-number">2.9.2</span> Challenge: using functions<a href="introduction-to-r-and-rstudio.html#challenge-using-functions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="shaded question">
<p><strong>Questions</strong> <br></p>
<p>Look at the documentation for the <code>seq</code> function. What does <code>seq</code> do?
Give an example of using <code>seq</code> with either the <code>by</code> or <code>length.out</code>
argument.</p>
</div>
</div>
</div>
<div id="packages" class="section level2 hasAnchor" number="2.10">
<h2><span class="header-section-number">2.10</span> Packages<a href="introduction-to-r-and-rstudio.html#packages" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>While you can write your own functions, most functions you use will be
part of a package. In R, the fundamental unit of shareable code is the
package. A package bundles together code, data, documentation, and
tests, and is easy to share with others. As of July 2018, there were
over 14,000 packages available on the Comprehensive R Archive Network,
or CRAN, the public clearing house for R packages. This huge variety of
packages is one of the reasons that R is so successful.</p>
<p>Installing a package using RStudio requires selecting the Install
Packages Button in the Files, Plots, Packages Pane</p>
<p><img src="images/installPackages.png" width="75%" style="display: block; margin: auto;" /></p>
<p>In the pop up box that results simply type the name of the package and
check “install dependencies” and click Install</p>
<p><img src="images/packagesDialog.png" width="100%" style="display: block; margin: auto;" /></p>
<p>Its also possible for you to install and load packages from the console.
Always make sure to put the package name in quotes when installing and
setting <code>dependencies = True</code></p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="introduction-to-r-and-rstudio.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;tidyverse&quot;</span>, <span class="at">dependencies =</span> <span class="cn">TRUE</span>)    </span>
<span id="cb39-2"><a href="introduction-to-r-and-rstudio.html#cb39-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<p>You only need to install a package once, but you need to reload it every
time you start a new session.</p>
</div>
<div id="vectors" class="section level2 hasAnchor" number="2.11">
<h2><span class="header-section-number">2.11</span> Vectors<a href="introduction-to-r-and-rstudio.html#vectors" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="what-is-a-vector" class="section level3 hasAnchor" number="2.11.1">
<h3><span class="header-section-number">2.11.1</span> What is a Vector?<a href="introduction-to-r-and-rstudio.html#what-is-a-vector" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><strong>“Vector”</strong> means different things in
different fields (mathematics, geometry, biology), but in R it is a
fancy name for a collection of values. We call the individual values
<em>elements</em> of the vector. It is one of the most common data structures
you will work with in R.</p>
<p>We can make vectors with the function <code>c( )</code>, for example <code>c(1,2,3)</code>. c
means “combine”. R is obsessed with vectors, in R even single numbers
are vectors of length one. Many things that can be done with a single
number can also be done with a vector. For example arithmetic can be
done on vectors as it can be on single numbers.</p>
</div>
<div id="working-with-vectors" class="section level3 hasAnchor" number="2.11.2">
<h3><span class="header-section-number">2.11.2</span> Working with Vectors<a href="introduction-to-r-and-rstudio.html#working-with-vectors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s say that we have a group of patients in our clinic. (See info in patients_list.txt in your project folder, or <a href="https://osf.io/download/j2gv7/">download the file</a>.) We can store
their names in a vector.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="introduction-to-r-and-rstudio.html#cb40-1" aria-hidden="true" tabindex="-1"></a>    patients <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Maria&quot;</span>, <span class="st">&quot;Jon&quot;</span>, <span class="st">&quot;Ali&quot;</span>, <span class="st">&quot;Luis&quot;</span>, <span class="st">&quot;Mei&quot;</span> )</span>
<span id="cb40-2"><a href="introduction-to-r-and-rstudio.html#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="introduction-to-r-and-rstudio.html#cb40-3" aria-hidden="true" tabindex="-1"></a>    patients</span></code></pre></div>
<pre><code>## [1] &quot;Maria&quot; &quot;Jon&quot;   &quot;Ali&quot;   &quot;Luis&quot;  &quot;Mei&quot;</code></pre>
<p>If we later wanted to add a name, it’s easy to do so</p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="introduction-to-r-and-rstudio.html#cb42-1" aria-hidden="true" tabindex="-1"></a>patients <span class="ot">&lt;-</span> <span class="fu">c</span>(patients, <span class="st">&quot;Emma&quot;</span>)</span>
<span id="cb42-2"><a href="introduction-to-r-and-rstudio.html#cb42-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-3"><a href="introduction-to-r-and-rstudio.html#cb42-3" aria-hidden="true" tabindex="-1"></a>patients</span></code></pre></div>
<pre><code>## [1] &quot;Maria&quot; &quot;Jon&quot;   &quot;Ali&quot;   &quot;Luis&quot;  &quot;Mei&quot;   &quot;Emma&quot;</code></pre>
<p>Maybe we also want to store the weights of these patients. Since these
are their weights in pounds, we will call our object <code>weight_lb</code></p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="introduction-to-r-and-rstudio.html#cb44-1" aria-hidden="true" tabindex="-1"></a>weight_lb <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">122</span>, <span class="dv">320</span>, <span class="dv">217</span>, <span class="dv">142</span>, <span class="dv">174</span>, <span class="dv">252</span>)</span>
<span id="cb44-2"><a href="introduction-to-r-and-rstudio.html#cb44-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-3"><a href="introduction-to-r-and-rstudio.html#cb44-3" aria-hidden="true" tabindex="-1"></a>weight_lb</span></code></pre></div>
<pre><code>## [1] 122 320 217 142 174 252</code></pre>
<p>So far, we have created vectors of two different <em>data types</em>: character
and numeric.</p>
<p>You can do arithmetic with numeric vectors. For example, let’s convert
the weight of our patients in lbs to the the weight in kilograms by
multiplying each weight in lbs by 2.2.</p>
<p>We could do this one by one:</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="introduction-to-r-and-rstudio.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="dv">122</span> <span class="sc">/</span> <span class="fl">2.2</span></span></code></pre></div>
<pre><code>## [1] 55.45455</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="introduction-to-r-and-rstudio.html#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="dv">320</span> <span class="sc">/</span> <span class="fl">2.2</span></span></code></pre></div>
<pre><code>## [1] 145.4545</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="introduction-to-r-and-rstudio.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="dv">217</span> <span class="sc">/</span> <span class="fl">2.2</span></span></code></pre></div>
<pre><code>## [1] 98.63636</code></pre>
<p>etc.</p>
<p>But that would be a long and tedious process, especially if you had more
than 6 patients.</p>
<p>Instead, let’s divide the vector by 2.2 and save that to a new object.
We will call this object <code>weight_kg</code></p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="introduction-to-r-and-rstudio.html#cb52-1" aria-hidden="true" tabindex="-1"></a>weight_kg <span class="ot">&lt;-</span> weight_lb <span class="sc">/</span> <span class="fl">2.2</span></span>
<span id="cb52-2"><a href="introduction-to-r-and-rstudio.html#cb52-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-3"><a href="introduction-to-r-and-rstudio.html#cb52-3" aria-hidden="true" tabindex="-1"></a><span class="co">#you could also round the weight</span></span>
<span id="cb52-4"><a href="introduction-to-r-and-rstudio.html#cb52-4" aria-hidden="true" tabindex="-1"></a>weight_kg <span class="ot">&lt;-</span> <span class="fu">round</span>((weight_lb <span class="sc">/</span> <span class="fl">2.2</span>), <span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb52-5"><a href="introduction-to-r-and-rstudio.html#cb52-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-6"><a href="introduction-to-r-and-rstudio.html#cb52-6" aria-hidden="true" tabindex="-1"></a>weight_kg</span></code></pre></div>
<pre><code>## [1]  55.45 145.45  98.64  64.55  79.09 114.55</code></pre>
<p>We could use the <code>mean()</code> function to find out the mean weight of
patients at our clinic.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="introduction-to-r-and-rstudio.html#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(weight_lb)</span></code></pre></div>
<pre><code>## [1] 204.5</code></pre>
<p>You will not be able to perform calculations with character vectors.</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="introduction-to-r-and-rstudio.html#cb56-1" aria-hidden="true" tabindex="-1"></a>patients <span class="sc">+</span> <span class="st">&quot;Sue&quot;</span></span></code></pre></div>
<pre><code>## Error in patients + &quot;Sue&quot;: non-numeric argument to binary operator</code></pre>
<p>Remember we used <code>c()</code> to
add a value to our character vector.</p>
<div class="shaded important">
<p><strong>Data Types</strong> <br> There are numerous data types. Some of the other
most common data types you will encounter are numeric data, character
data and logical data. Vectors of one data type only are called <strong>atomic
vectors</strong>. Read more about vectors and data types in the book <a href="https://r4ds.had.co.nz/vectors.html">R for
Data Science</a></p>
</div>
<p>Now let’s try working with some logical data. Logical data is the
values<code>TRUE</code>, <code>FALSE</code>, or <code>NA</code></p>
<p>We want to record if our patients have been fully vaccinated. We will
record this as TRUE if they have been, FALSE if they have not been, and
NA if we do not have this information.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="introduction-to-r-and-rstudio.html#cb58-1" aria-hidden="true" tabindex="-1"></a>vax_status <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">NA</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>)</span>
<span id="cb58-2"><a href="introduction-to-r-and-rstudio.html#cb58-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-3"><a href="introduction-to-r-and-rstudio.html#cb58-3" aria-hidden="true" tabindex="-1"></a>vax_status</span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE    NA  TRUE FALSE</code></pre>
<p>All vector types have a length property which you can determine with the
<code>length()</code> function.</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="introduction-to-r-and-rstudio.html#cb60-1" aria-hidden="true" tabindex="-1"></a>    <span class="fu">length</span>(patients)</span></code></pre></div>
<pre><code>## [1] 6</code></pre>
<p>Its helpful to think of the length of a vector as the number of elements
in the vector.</p>
<p>You can always find out the data type of your vector with the <code>class()</code>
function.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="introduction-to-r-and-rstudio.html#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(patients)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="introduction-to-r-and-rstudio.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(weight_lb)</span></code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="introduction-to-r-and-rstudio.html#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(vax_status)</span></code></pre></div>
<pre><code>## [1] &quot;logical&quot;</code></pre>
</div>
<div id="missing-data" class="section level3 hasAnchor" number="2.11.3">
<h3><span class="header-section-number">2.11.3</span> Missing Data<a href="introduction-to-r-and-rstudio.html#missing-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>R also has many tools to help with missing data, a very common
occurrence.</p>
<p>Suppose you tried to calculate the mean of a vector with some missing
values (represented here with the logical <code>NA</code>. For example, what if we
had failed to capture the weight of some of the patients at our clinic,
so our weight vector looks as follows:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="introduction-to-r-and-rstudio.html#cb68-1" aria-hidden="true" tabindex="-1"></a>missing_wgt <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">122</span>, <span class="cn">NA</span>, <span class="dv">217</span>, <span class="cn">NA</span>, <span class="dv">174</span>, <span class="dv">252</span>)</span>
<span id="cb68-2"><a href="introduction-to-r-and-rstudio.html#cb68-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-3"><a href="introduction-to-r-and-rstudio.html#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(missing_wgt)</span></code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>The missing values cause an error, and the mean cannot be correctly
calculated.</p>
<p>To get around this, you can use the argument <code>na.rm = TRUE</code>. This says
to remove the NA values before attempting to perform the calculation.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="introduction-to-r-and-rstudio.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(missing_wgt, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## [1] 191.25</code></pre>
<p>For more on how to work with missing data, check out this <a href="https://datacarpentry.org/R-ecology-lesson/01-intro-to-r.html#Missing_data">Data
Carpentry
lesson</a></p>
</div>
<div id="mixing-data-types" class="section level3 hasAnchor" number="2.11.4">
<h3><span class="header-section-number">2.11.4</span> Mixing Data Types<a href="introduction-to-r-and-rstudio.html#mixing-data-types" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>We said above that vectors are supposed to have only one data type, but
what happens if we mix multiple data types in one vector?</p>
<p>Sometimes the best way to understand R is to try some examples and see
what it does.</p>
<div class="shaded question">
<p><strong>Questions</strong><br>
What will happen in each of these examples? Try running this code to see!</p>
<ol style="list-style-type: decimal">
<li><code>patient &lt;- c("Maria", 122, TRUE)</code></li>
<li><code>name_weight &lt;- c("John", 320, 145)</code></li>
<li><code>weight_status &lt;- c(217, 99, FALSE)</code></li>
</ol>
<p>Why do you think this happens?</p>
</div>
<p>Because vectors can only contain one type of data, R chooses a lowest
common denominator type of vector, a type that can contain everything we
are trying to put in it. A different language might stop with an error,
but R tries to soldier on as best it can. A number can be represented as
a character string, but a character string can not be represented as a
number, so when we try to put both in the same vector R converts
everything to a character string.</p>
</div>
<div id="indexing-and-subsetting-vectors" class="section level3 hasAnchor" number="2.11.5">
<h3><span class="header-section-number">2.11.5</span> Indexing and Subsetting vectors<a href="introduction-to-r-and-rstudio.html#indexing-and-subsetting-vectors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Access elements of a vector with <code>[ ]</code>, for example</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="introduction-to-r-and-rstudio.html#cb72-1" aria-hidden="true" tabindex="-1"></a>    patients[<span class="dv">1</span>]</span></code></pre></div>
<pre><code>## [1] &quot;Maria&quot;</code></pre>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="introduction-to-r-and-rstudio.html#cb74-1" aria-hidden="true" tabindex="-1"></a>    patients[<span class="dv">4</span>]</span></code></pre></div>
<pre><code>## [1] &quot;Luis&quot;</code></pre>
<p>You can also assign to a specific element of a vector. We realize that
we misspelled the name of our patient John, so we can overwrite our old
value by assigning a new name to that element in our vector.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="introduction-to-r-and-rstudio.html#cb76-1" aria-hidden="true" tabindex="-1"></a>    patients[<span class="dv">2</span>] <span class="ot">&lt;-</span> <span class="st">&quot;John&quot;</span></span>
<span id="cb76-2"><a href="introduction-to-r-and-rstudio.html#cb76-2" aria-hidden="true" tabindex="-1"></a>    patients</span></code></pre></div>
<pre><code>## [1] &quot;Maria&quot; &quot;John&quot;  &quot;Ali&quot;   &quot;Luis&quot;  &quot;Mei&quot;   &quot;Emma&quot;</code></pre>
<p>Can we use a vector to index another vector? Yes!</p>
<p>Lets say we want to know which of our patients have been vaccinated. We
know the vaccination status because we have a vector named <code>vax_status</code>
lets look at it</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="introduction-to-r-and-rstudio.html#cb78-1" aria-hidden="true" tabindex="-1"></a>vax_status</span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE    NA  TRUE FALSE</code></pre>
<p>Looking at the output we see the index of vaccinated people is elements
<code>1, 2, and 5</code>. or where <code>vax_status</code> is <code>TRUE</code> in the output. We can use
this numerical index to subset another from our vector <code>patients</code> which
will give us a result that we’ll assign to a new object <code>vax_patients</code>.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="introduction-to-r-and-rstudio.html#cb80-1" aria-hidden="true" tabindex="-1"></a>    vaxInd <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">5</span>)</span>
<span id="cb80-2"><a href="introduction-to-r-and-rstudio.html#cb80-2" aria-hidden="true" tabindex="-1"></a>    patients[vaxInd] <span class="co"># this line is saying patients[c(1,2,5)]</span></span></code></pre></div>
<pre><code>## [1] &quot;Maria&quot; &quot;John&quot;  &quot;Mei&quot;</code></pre>
<p>Now we can assign this vector to an object <code>vax_patients</code> to quickly
look at our vaccinated patients.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="introduction-to-r-and-rstudio.html#cb82-1" aria-hidden="true" tabindex="-1"></a>    vax_patients <span class="ot">&lt;-</span> patients[vaxInd]</span>
<span id="cb82-2"><a href="introduction-to-r-and-rstudio.html#cb82-2" aria-hidden="true" tabindex="-1"></a>    vax_patients</span></code></pre></div>
<pre><code>## [1] &quot;Maria&quot; &quot;John&quot;  &quot;Mei&quot;</code></pre>
<p>That was great! The problem with this approach is that if we’re in the
real world and have a patient population of 1000 it will be really hard
to go through our vax_status vector and see who has <code>vax_status</code> is
<code>TRUE</code>. Fortunately there is a way to deal with this! Using conditional
subsetting We could equivalently have written:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="introduction-to-r-and-rstudio.html#cb84-1" aria-hidden="true" tabindex="-1"></a>    patients[vax_status <span class="sc">==</span> <span class="cn">TRUE</span>]</span></code></pre></div>
<pre><code>## [1] &quot;Maria&quot; &quot;John&quot;  NA      &quot;Mei&quot;</code></pre>
<p>This output keeps the NA’s in there and that is not helpful since we
only want to know who is vaccinated. Instead we can add a second
condition! This condition is awesome because we can now show off our
skills of working with missing data!</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="introduction-to-r-and-rstudio.html#cb86-1" aria-hidden="true" tabindex="-1"></a>patients[vax_status <span class="sc">==</span> <span class="cn">TRUE</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(vax_status)]</span></code></pre></div>
<pre><code>## [1] &quot;Maria&quot; &quot;John&quot;  &quot;Mei&quot;</code></pre>
<p>Another thing we can do is to assign our logical expression to an object
so we can index our vector using it but also index other data structures
like data frames which we are about to learn about. To do this would be
like this:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="introduction-to-r-and-rstudio.html#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># assign logical expression to an object</span></span>
<span id="cb88-2"><a href="introduction-to-r-and-rstudio.html#cb88-2" aria-hidden="true" tabindex="-1"></a>are_vaccinated <span class="ot">&lt;-</span> vax_status <span class="sc">==</span> <span class="cn">TRUE</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(vax_status)</span>
<span id="cb88-3"><a href="introduction-to-r-and-rstudio.html#cb88-3" aria-hidden="true" tabindex="-1"></a><span class="co"># subset the vector according to the logical expression via using the object.</span></span>
<span id="cb88-4"><a href="introduction-to-r-and-rstudio.html#cb88-4" aria-hidden="true" tabindex="-1"></a>patients[are_vaccinated]</span></code></pre></div>
<pre><code>## [1] &quot;Maria&quot; &quot;John&quot;  &quot;Mei&quot;</code></pre>
</div>
</div>
<div id="data-frames-tibbles-and-exploring-data" class="section level2 hasAnchor" number="2.12">
<h2><span class="header-section-number">2.12</span> Data frames, Tibbles, and Exploring Data<a href="introduction-to-r-and-rstudio.html#data-frames-tibbles-and-exploring-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Data frames are another VIP data structure in R. While vectors are one
dimensional data structures. Data frames are two dimensional (often
called tabular or rectangular data). This is similar to data as you
might be used to seeing it in a spreadsheet. You can think of a data
frame as consisting of columns of vectors. As vectors,each column in a
data frame is of one data type, but the data frame over all can hold
multiple data types.</p>
<p><img src="images/data-frame.png" width="240" style="display: block; margin: auto;" /></p>
<p>A tibble is a particular class of data frame which is common in the
<strong><code>tidyverse</code></strong> family of packages. Tibbles are useful for their
printing properties and because they are less likely try to change the
data type of columns on import (e.g. from character to factor).</p>
<div id="creating-data-frames" class="section level3 hasAnchor" number="2.12.1">
<h3><span class="header-section-number">2.12.1</span> Creating data frames<a href="introduction-to-r-and-rstudio.html#creating-data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Data frames are usually created by reading in a dataset using the
<code>read.table()</code> or <code>read.csv()</code> which we will cover in our next session.
However, data frames can also be created explicitly with the
<code>data.frame()</code> function or they can be coerced from other types of
objects like lists. Now that we know vectors form the columns of data
frames, we can take the vectors we created for our patient data and
combine them together in a data frame.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="introduction-to-r-and-rstudio.html#cb90-1" aria-hidden="true" tabindex="-1"></a>patient_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(patients, weight_lb, weight_kg, vax_status)</span>
<span id="cb90-2"><a href="introduction-to-r-and-rstudio.html#cb90-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-3"><a href="introduction-to-r-and-rstudio.html#cb90-3" aria-hidden="true" tabindex="-1"></a>patient_data</span></code></pre></div>
<pre><code>##   patients weight_lb weight_kg vax_status
## 1    Maria       122     55.45       TRUE
## 2     John       320    145.45       TRUE
## 3      Ali       217     98.64      FALSE
## 4     Luis       142     64.55         NA
## 5      Mei       174     79.09       TRUE
## 6     Emma       252    114.55      FALSE</code></pre>
</div>
<div id="exploring-data-frames" class="section level3 hasAnchor" number="2.12.2">
<h3><span class="header-section-number">2.12.2</span> Exploring data frames<a href="introduction-to-r-and-rstudio.html#exploring-data-frames" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Now we will look at ways to explore the contents of a data frame. For this part of the lesson we will use an object <code>variants</code>, a data frame, that has been pre-loaded in your RStudio Cloud project as a <code>.rds</code> object, this is a binary Rdata file. To access this object locate <code>/cloud/project/data/variants.rds</code> in the file viewer and click on it. In the dialog box that pops up select “OK” In the next session you will learn how to load data in to R but for now we have done this for you so you can focus on learning about exploring data frames.</p>
<p>The <code>variants</code> object is a dataset that comes from a real world experiment in E. Coli, you can find out more about the study in the <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC4988878/">Tenaillon et al 2016</a> paper <a href="#fn5" class="footnote-ref" id="fnref5"><sup>5</sup></a>. The <code>variants</code> object is tabular version of a specialized genomics file type called a VCF file. VCF files are the output of a bioinformatics pipeline that starts with FASTQ files that come from a sequencer and ends with a VCF File. This pipeline typically happens outside of R and RStudio.</p>
<p>Your initial instinct with working with this object is to want to see it in a familiar spreadsheet form. The <code>View()</code> function gives us a spreadsheet-like view of the data frame.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="introduction-to-r-and-rstudio.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">View</span>(variants)</span></code></pre></div>
<p>Using the <code>summary()</code> function and, we can learn a lot about the <code>variants</code> data frame including some summary statistics. Let’s examine what this function can tell us:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="introduction-to-r-and-rstudio.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="do">## get summary statistics on a data frame</span></span>
<span id="cb93-2"><a href="introduction-to-r-and-rstudio.html#cb93-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-3"><a href="introduction-to-r-and-rstudio.html#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(variants)</span></code></pre></div>
<pre><code>##   sample_id            CHROM                POS             ID         
##  Length:801         Length:801         Min.   :   1521   Mode:logical  
##  Class :character   Class :character   1st Qu.:1115970   NA&#39;s:801      
##  Mode  :character   Mode  :character   Median :2290361                 
##                                        Mean   :2243682                 
##                                        3rd Qu.:3317082                 
##                                        Max.   :4629225                 
##                                                                        
##      REF                ALT                 QUAL          FILTER       
##  Length:801         Length:801         Min.   :  4.385   Mode:logical  
##  Class :character   Class :character   1st Qu.:139.000   NA&#39;s:801      
##  Mode  :character   Mode  :character   Median :195.000                 
##                                        Mean   :172.276                 
##                                        3rd Qu.:225.000                 
##                                        Max.   :228.000                 
##                                                                        
##    INDEL              IDV              IMF               DP       
##  Mode :logical   Min.   : 2.000   Min.   :0.5714   Min.   : 2.00  
##  FALSE:700       1st Qu.: 7.000   1st Qu.:0.8824   1st Qu.: 7.00  
##  TRUE :101       Median : 9.000   Median :1.0000   Median :10.00  
##                  Mean   : 9.396   Mean   :0.9219   Mean   :10.57  
##                  3rd Qu.:11.000   3rd Qu.:1.0000   3rd Qu.:13.00  
##                  Max.   :20.000   Max.   :1.0000   Max.   :79.00  
##                  NA&#39;s   :700      NA&#39;s   :700                     
##       VDB                 RPB              MQB              BQB        
##  Min.   :0.0005387   Min.   :0.0000   Min.   :0.0000   Min.   :0.1153  
##  1st Qu.:0.2180410   1st Qu.:0.3776   1st Qu.:0.1070   1st Qu.:0.6963  
##  Median :0.4827410   Median :0.8663   Median :0.2872   Median :0.8615  
##  Mean   :0.4926291   Mean   :0.6970   Mean   :0.5330   Mean   :0.7784  
##  3rd Qu.:0.7598940   3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:1.0000  
##  Max.   :0.9997130   Max.   :1.0000   Max.   :1.0000   Max.   :1.0000  
##                      NA&#39;s   :773      NA&#39;s   :773      NA&#39;s   :773     
##       MQSB              SGB               MQ0F           ICB         
##  Min.   :0.01348   Min.   :-0.6931   Min.   :0.00000   Mode:logical  
##  1st Qu.:0.95494   1st Qu.:-0.6762   1st Qu.:0.00000   NA&#39;s:801      
##  Median :1.00000   Median :-0.6620   Median :0.00000                 
##  Mean   :0.96428   Mean   :-0.6444   Mean   :0.01127                 
##  3rd Qu.:1.00000   3rd Qu.:-0.6364   3rd Qu.:0.00000                 
##  Max.   :1.01283   Max.   :-0.4536   Max.   :0.66667                 
##  NA&#39;s   :48                                                          
##    HOB                AC          AN        DP4                  MQ       
##  Mode:logical   Min.   :1   Min.   :1   Length:801         Min.   :10.00  
##  NA&#39;s:801       1st Qu.:1   1st Qu.:1   Class :character   1st Qu.:60.00  
##                 Median :1   Median :1   Mode  :character   Median :60.00  
##                 Mean   :1   Mean   :1                      Mean   :58.19  
##                 3rd Qu.:1   3rd Qu.:1                      3rd Qu.:60.00  
##                 Max.   :1   Max.   :1                      Max.   :60.00  
##                                                                           
##     Indiv               gt_PL            gt_GT   gt_GT_alleles     
##  Length:801         Min.   :   310   Min.   :1   Length:801        
##  Class :character   1st Qu.:  1760   1st Qu.:1   Class :character  
##  Mode  :character   Median :  2290   Median :1   Mode  :character  
##                     Mean   :  3392   Mean   :1                     
##                     3rd Qu.:  2550   3rd Qu.:1                     
##                     Max.   :255156   Max.   :1                     
## </code></pre>
<p>The original dataset had 29 variables, so we get 29 fields to look at in the <code>summary()</code> output that summarize the data for each variable. The <code>QUAL</code>, <code>IMF</code>, and <code>VDB</code> variables (and several others) are numerical data and so you get summary statistics on the min and max values for these columns, as well as mean, median, and interquartile ranges. Many of the other variables (e.g. <code>sample_id</code>) are treated as characters data (more on this in a bit).</p>
<p>Running the name <code>variants</code> of the data frame in the console alone shows the first 10 rows, <code>print()</code> with the <code>n</code> argument can be used to show more than the first 10 rows on the console. Keep in mind this allows you to only see the number of variables that fit in the width of your console. So wider console window allows to see more variables.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="introduction-to-r-and-rstudio.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(variants, <span class="at">n =</span> <span class="dv">25</span>)</span></code></pre></div>
<p>If its the variable names you’re after you can do that with <code>names()</code> or <code>colnames()</code></p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="introduction-to-r-and-rstudio.html#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(variants) <span class="co"># you could also use names()</span></span></code></pre></div>
<pre><code>##  [1] &quot;sample_id&quot;     &quot;CHROM&quot;         &quot;POS&quot;           &quot;ID&quot;           
##  [5] &quot;REF&quot;           &quot;ALT&quot;           &quot;QUAL&quot;          &quot;FILTER&quot;       
##  [9] &quot;INDEL&quot;         &quot;IDV&quot;           &quot;IMF&quot;           &quot;DP&quot;           
## [13] &quot;VDB&quot;           &quot;RPB&quot;           &quot;MQB&quot;           &quot;BQB&quot;          
## [17] &quot;MQSB&quot;          &quot;SGB&quot;           &quot;MQ0F&quot;          &quot;ICB&quot;          
## [21] &quot;HOB&quot;           &quot;AC&quot;            &quot;AN&quot;            &quot;DP4&quot;          
## [25] &quot;MQ&quot;            &quot;Indiv&quot;         &quot;gt_PL&quot;         &quot;gt_GT&quot;        
## [29] &quot;gt_GT_alleles&quot;</code></pre>
<p>You have access to details about the number of columns and rows also:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="introduction-to-r-and-rstudio.html#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co"># number of rows in variants</span></span>
<span id="cb98-2"><a href="introduction-to-r-and-rstudio.html#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(variants)</span></code></pre></div>
<pre><code>## [1] 801</code></pre>
<div class="sourceCode" id="cb100"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb100-1"><a href="introduction-to-r-and-rstudio.html#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># number of columns in variants</span></span>
<span id="cb100-2"><a href="introduction-to-r-and-rstudio.html#cb100-2" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(variants)</span></code></pre></div>
<pre><code>## [1] 29</code></pre>
<p><strong>Subsetting data frames</strong>
Similar to subsetting vectors using bracket syntax <code>[]</code>, data frames can be subset using <code>[row,column]</code>. You can provide single dimensions to <code>row</code> and <code>column</code> or variations.</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="introduction-to-r-and-rstudio.html#cb102-1" aria-hidden="true" tabindex="-1"></a>variants[<span class="dv">4</span>, <span class="dv">5</span>]</span></code></pre></div>
<pre><code>## # A tibble: 1 × 1
##   REF     
##   &lt;chr&gt;   
## 1 CTTTTTTT</code></pre>
<p>While the output of this subset is a single value the output is considered a data frame. This is typical of tibbles.</p>
<p>You can use a column name (in quotes and literally the name of the variable) to subset instead of a number (numerical index):</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="introduction-to-r-and-rstudio.html#cb104-1" aria-hidden="true" tabindex="-1"></a>variants[<span class="dv">4</span>, <span class="st">&quot;REF&quot;</span>]</span></code></pre></div>
<pre><code>## # A tibble: 1 × 1
##   REF     
##   &lt;chr&gt;   
## 1 CTTTTTTT</code></pre>
<p>The column or row may be omitted to retrieve the entire row or column.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="introduction-to-r-and-rstudio.html#cb106-1" aria-hidden="true" tabindex="-1"></a>variants[<span class="dv">4</span>,]</span></code></pre></div>
<pre><code>## # A tibble: 1 × 29
##   sample_id  CHROM    POS ID    REF   ALT    QUAL FILTER INDEL   IDV   IMF    DP
##   &lt;chr&gt;      &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt;  &lt;lgl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 SRR2584863 CP00… 433359 NA    CTTT… CTTT…    64 NA     TRUE     12     1    12
## # … with 17 more variables: VDB &lt;dbl&gt;, RPB &lt;dbl&gt;, MQB &lt;dbl&gt;, BQB &lt;dbl&gt;,
## #   MQSB &lt;dbl&gt;, SGB &lt;dbl&gt;, MQ0F &lt;dbl&gt;, ICB &lt;lgl&gt;, HOB &lt;lgl&gt;, AC &lt;dbl&gt;,
## #   AN &lt;dbl&gt;, DP4 &lt;chr&gt;, MQ &lt;dbl&gt;, Indiv &lt;chr&gt;, gt_PL &lt;dbl&gt;, gt_GT &lt;dbl&gt;,
## #   gt_GT_alleles &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="introduction-to-r-and-rstudio.html#cb108-1" aria-hidden="true" tabindex="-1"></a>variants[, <span class="st">&quot;REF&quot;</span>]</span></code></pre></div>
<pre><code>## # A tibble: 801 × 1
##    REF                             
##    &lt;chr&gt;                           
##  1 T                               
##  2 G                               
##  3 G                               
##  4 CTTTTTTT                        
##  5 CCGC                            
##  6 C                               
##  7 C                               
##  8 G                               
##  9 ACAGCCAGCCAGCCAGCCAGCCAGCCAGCCAG
## 10 AT                              
## # … with 791 more rows</code></pre>
<p>You can use a vector to retrieve specific rows or columns you may want. This vector can be a named object or created on the spot and passed as an argument in the subsetting.</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="introduction-to-r-and-rstudio.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="co"># subset a range of rows using `colon :`</span></span>
<span id="cb110-2"><a href="introduction-to-r-and-rstudio.html#cb110-2" aria-hidden="true" tabindex="-1"></a>variants[<span class="dv">35</span><span class="sc">:</span><span class="dv">45</span>, ]</span></code></pre></div>
<pre><code>## # A tibble: 11 × 29
##    sample_id CHROM    POS ID    REF   ALT    QUAL FILTER INDEL   IDV   IMF    DP
##    &lt;chr&gt;     &lt;chr&gt;  &lt;dbl&gt; &lt;lgl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;lgl&gt;  &lt;lgl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 SRR25848… CP00…  56613 NA    C     G       183 NA     FALSE    NA    NA    12
##  2 SRR25848… CP00…  62118 NA    A     G       225 NA     FALSE    NA    NA    19
##  3 SRR25848… CP00…  64042 NA    G     A       225 NA     FALSE    NA    NA    18
##  4 SRR25848… CP00…  78808 NA    C     T       225 NA     FALSE    NA    NA    23
##  5 SRR25848… CP00…  80113 NA    A     G       165 NA     FALSE    NA    NA     9
##  6 SRR25848… CP00…  81158 NA    A     C       225 NA     FALSE    NA    NA    13
##  7 SRR25848… CP00…  87462 NA    A     G       225 NA     FALSE    NA    NA    10
##  8 SRR25848… CP00…  94370 NA    A     G       225 NA     FALSE    NA    NA    11
##  9 SRR25848… CP00…  98286 NA    C     T       130 NA     FALSE    NA    NA     7
## 10 SRR25848… CP00…  98404 NA    G     A       225 NA     FALSE    NA    NA    14
## 11 SRR25848… CP00… 105581 NA    G     A       225 NA     FALSE    NA    NA    13
## # … with 17 more variables: VDB &lt;dbl&gt;, RPB &lt;dbl&gt;, MQB &lt;dbl&gt;, BQB &lt;dbl&gt;,
## #   MQSB &lt;dbl&gt;, SGB &lt;dbl&gt;, MQ0F &lt;dbl&gt;, ICB &lt;lgl&gt;, HOB &lt;lgl&gt;, AC &lt;dbl&gt;,
## #   AN &lt;dbl&gt;, DP4 &lt;chr&gt;, MQ &lt;dbl&gt;, Indiv &lt;chr&gt;, gt_PL &lt;dbl&gt;, gt_GT &lt;dbl&gt;,
## #   gt_GT_alleles &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="introduction-to-r-and-rstudio.html#cb112-1" aria-hidden="true" tabindex="-1"></a>columns_desired <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">6</span><span class="sc">:</span><span class="dv">7</span>, <span class="dv">9</span>)</span>
<span id="cb112-2"><a href="introduction-to-r-and-rstudio.html#cb112-2" aria-hidden="true" tabindex="-1"></a>variants[, columns_desired] <span class="co"># same as variants[,c(1:3,6:7, 9)]</span></span></code></pre></div>
<pre><code>## # A tibble: 801 × 6
##    sample_id  CHROM          POS ALT                                  QUAL INDEL
##    &lt;chr&gt;      &lt;chr&gt;        &lt;dbl&gt; &lt;chr&gt;                               &lt;dbl&gt; &lt;lgl&gt;
##  1 SRR2584863 CP000819.1    9972 G                                      91 FALSE
##  2 SRR2584863 CP000819.1  263235 T                                      85 FALSE
##  3 SRR2584863 CP000819.1  281923 T                                     217 FALSE
##  4 SRR2584863 CP000819.1  433359 CTTTTTTTT                              64 TRUE 
##  5 SRR2584863 CP000819.1  473901 CCGCGC                                228 TRUE 
##  6 SRR2584863 CP000819.1  648692 T                                     210 FALSE
##  7 SRR2584863 CP000819.1 1331794 A                                     178 FALSE
##  8 SRR2584863 CP000819.1 1733343 A                                     225 FALSE
##  9 SRR2584863 CP000819.1 2103887 ACAGCCAGCCAGCCAGCCAGCCAGCCAGCCAGCC…    56 TRUE 
## 10 SRR2584863 CP000819.1 2333538 ATT                                   167 TRUE 
## # … with 791 more rows</code></pre>
<p>You might be interested in working with a new object that is just your subset from the main data frame. You can do this!</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="introduction-to-r-and-rstudio.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co"># put the first three columns, column 6, column 7 and column 9 of variants into a new data frame called subset_variants</span></span>
<span id="cb114-2"><a href="introduction-to-r-and-rstudio.html#cb114-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-3"><a href="introduction-to-r-and-rstudio.html#cb114-3" aria-hidden="true" tabindex="-1"></a>subset_variants <span class="ot">&lt;-</span> variants[,<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">6</span><span class="sc">:</span><span class="dv">7</span>, <span class="dv">9</span>)]</span></code></pre></div>
<p>Lets use <code>str()</code> to explore a bit more in depth how data frames work by looking at the “structure” of <code>subset_variants</code>.</p>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="introduction-to-r-and-rstudio.html#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(subset_variants)</span></code></pre></div>
<pre><code>## tibble [801 × 6] (S3: tbl_df/tbl/data.frame)
##  $ sample_id: chr [1:801] &quot;SRR2584863&quot; &quot;SRR2584863&quot; &quot;SRR2584863&quot; &quot;SRR2584863&quot; ...
##  $ CHROM    : chr [1:801] &quot;CP000819.1&quot; &quot;CP000819.1&quot; &quot;CP000819.1&quot; &quot;CP000819.1&quot; ...
##  $ POS      : num [1:801] 9972 263235 281923 433359 473901 ...
##  $ ALT      : chr [1:801] &quot;G&quot; &quot;T&quot; &quot;T&quot; &quot;CTTTTTTTT&quot; ...
##  $ QUAL     : num [1:801] 91 85 217 64 228 210 178 225 56 167 ...
##  $ INDEL    : logi [1:801] FALSE FALSE FALSE TRUE TRUE FALSE ...</code></pre>
<p>Ok, thats a lot to unpack! Some things to notice.</p>
<p>In the output of <code>str()</code> we see the object type <code>tibble (S3: tbl_df/tbl/data.frame)</code> is displayed in the first row along with its dimensions <code>[801 × 6]</code>, in this case 801 observations (rows) and 6 variables (columns). Each variable (column) has a name (e.g. <code>sample_id</code>). This is followed by the object mode (e.g. <code>chr</code>, <code>num</code>, etc.). Notice that before each variable name there is a <code>$</code> - lets look at this a little more since this is another way we can subset.</p>
<p>So far we have used numbers to retrieve columns from our data frames however you might prefer using the column name. To use a name we can use <code>$</code> to retrieve columns. Occasionally it is also useful to use <code>[[ ]]</code> to retrieve columns, for example if the column name we want is stored in a variable.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="introduction-to-r-and-rstudio.html#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="co"># extract the &quot;ALT&quot; column to a new object</span></span>
<span id="cb117-2"><a href="introduction-to-r-and-rstudio.html#cb117-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-3"><a href="introduction-to-r-and-rstudio.html#cb117-3" aria-hidden="true" tabindex="-1"></a>alt_alleles <span class="ot">&lt;-</span> subset_variants<span class="sc">$</span>ALT</span></code></pre></div>
<p>Lets look at the first few elements of <code>alt_alleles</code> using <code>head()</code></p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="introduction-to-r-and-rstudio.html#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(alt_alleles)</span></code></pre></div>
<pre><code>## [1] &quot;G&quot;         &quot;T&quot;         &quot;T&quot;         &quot;CTTTTTTTT&quot; &quot;CCGCGC&quot;    &quot;T&quot;</code></pre>
<p>This could have also been written using the double bracket notation</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="introduction-to-r-and-rstudio.html#cb120-1" aria-hidden="true" tabindex="-1"></a>double_bracket_ALT <span class="ot">&lt;-</span> subset_variants[[<span class="st">&quot;ALT&quot;</span>]]</span>
<span id="cb120-2"><a href="introduction-to-r-and-rstudio.html#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="co"># look at the first fiew rows of it</span></span>
<span id="cb120-3"><a href="introduction-to-r-and-rstudio.html#cb120-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(double_bracket_ALT)</span></code></pre></div>
<pre><code>## [1] &quot;G&quot;         &quot;T&quot;         &quot;T&quot;         &quot;CTTTTTTTT&quot; &quot;CCGCGC&quot;    &quot;T&quot;</code></pre>
<p>To get the <code>ALT</code> value for row <code>4</code> we could use a mix of <code>$</code> and bracket <code>[]</code> subsetting.</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="introduction-to-r-and-rstudio.html#cb122-1" aria-hidden="true" tabindex="-1"></a>subset_variants<span class="sc">$</span>ALT[<span class="dv">4</span>]</span></code></pre></div>
<pre><code>## [1] &quot;CTTTTTTTT&quot;</code></pre>
<p>(you may notice at this point were using bracket notation on a vector because the output of a <code>$</code> subsetting is a vector, data frames are made up of columns of vectors!!!)</p>
<p><strong>Logical Subsetting(Indexing)</strong>
We have already used logical indexing for subsetting a vector. Lets briefly look at an example of doing this with a data frame. Imagine that you want to have a data frame <code>subset_variants_low_qual</code> that is records from <code>subset_variants</code> that have very low quality scores.</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="introduction-to-r-and-rstudio.html#cb124-1" aria-hidden="true" tabindex="-1"></a>low_qual_idX <span class="ot">&lt;-</span> subset_variants<span class="sc">$</span>QUAL <span class="sc">&lt;</span> <span class="dv">139</span></span>
<span id="cb124-2"><a href="introduction-to-r-and-rstudio.html#cb124-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-3"><a href="introduction-to-r-and-rstudio.html#cb124-3" aria-hidden="true" tabindex="-1"></a><span class="co"># take a peak at the head of this</span></span>
<span id="cb124-4"><a href="introduction-to-r-and-rstudio.html#cb124-4" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(low_qual_idX)</span></code></pre></div>
<pre><code>## [1]  TRUE  TRUE FALSE  TRUE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="introduction-to-r-and-rstudio.html#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="co"># how many are TRUE?</span></span>
<span id="cb126-2"><a href="introduction-to-r-and-rstudio.html#cb126-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(low_qual_idX)</span></code></pre></div>
<pre><code>## [1] 200</code></pre>
<p><code>sum</code> treats <code>TRUE</code> as 1 and <code>FALSE</code> as 0, so it tells us the number of TRUE elements in the vector (<code>low_qual_idx</code>).</p>
<p>We can use this logical vector to get the subset data frame <code>subset_variants_low_qual</code> that is only variants below the threshold we set.</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="introduction-to-r-and-rstudio.html#cb128-1" aria-hidden="true" tabindex="-1"></a>subset_variants_low_qual <span class="ot">&lt;-</span> subset_variants[low_qual_idX, ]</span>
<span id="cb128-2"><a href="introduction-to-r-and-rstudio.html#cb128-2" aria-hidden="true" tabindex="-1"></a><span class="co"># take a look at the subset confirming with the first few values that they are below the threshold</span></span>
<span id="cb128-3"><a href="introduction-to-r-and-rstudio.html#cb128-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(subset_variants_low_qual)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 6
##   sample_id  CHROM          POS ALT                                   QUAL INDEL
##   &lt;chr&gt;      &lt;chr&gt;        &lt;dbl&gt; &lt;chr&gt;                                &lt;dbl&gt; &lt;lgl&gt;
## 1 SRR2584863 CP000819.1    9972 G                                     91   FALSE
## 2 SRR2584863 CP000819.1  263235 T                                     85   FALSE
## 3 SRR2584863 CP000819.1  433359 CTTTTTTTT                             64   TRUE 
## 4 SRR2584863 CP000819.1 2103887 ACAGCCAGCCAGCCAGCCAGCCAGCCAGCCAGCCA…  56   TRUE 
## 5 SRR2584863 CP000819.1 2407766 C                                    104   FALSE
## 6 SRR2584863 CP000819.1 2618472 T                                     31.9 FALSE</code></pre>
<p><strong>Introducing Factors</strong>
Factors are the final major data type we will introduce in this R lessons. Factors can be thought of as vectors which are specialized for categorical data. Given R’s specialization for statistics, this make sense since categorical and continuous variables are usually treated differently. Sometimes you may want to have data treated as a factor, but in other cases, this may be undesirable.</p>
<p>To learn about factors we will work with the column <code>subset_variants$ALT</code>. First its important to know what type of object we’re working with using <code>typeof()</code> and then look at the first <code>15</code> elements of it using <code>head()</code>:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="introduction-to-r-and-rstudio.html#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(subset_variants<span class="sc">$</span>ALT)</span></code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="introduction-to-r-and-rstudio.html#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(subset_variants<span class="sc">$</span>ALT, <span class="at">n =</span> <span class="dv">15</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;G&quot;                                                       
##  [2] &quot;T&quot;                                                       
##  [3] &quot;T&quot;                                                       
##  [4] &quot;CTTTTTTTT&quot;                                               
##  [5] &quot;CCGCGC&quot;                                                  
##  [6] &quot;T&quot;                                                       
##  [7] &quot;A&quot;                                                       
##  [8] &quot;A&quot;                                                       
##  [9] &quot;ACAGCCAGCCAGCCAGCCAGCCAGCCAGCCAGCCAGCCAGCCAGCCAGCCAGCCAG&quot;
## [10] &quot;ATT&quot;                                                     
## [11] &quot;C&quot;                                                       
## [12] &quot;C&quot;                                                       
## [13] &quot;T&quot;                                                       
## [14] &quot;T&quot;                                                       
## [15] &quot;A&quot;</code></pre>
<p>There are 801 alleles (one for each row). To simplify, lets look at just the single-nuleotide alleles (SNPs). Before doing so we can confirm that SNPs are the most abundant using <code>table()</code>, we will also sort the output decreasing</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="introduction-to-r-and-rstudio.html#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">table</span>(subset_variants<span class="sc">$</span>ALT), <span class="at">decreasing =</span> <span class="cn">TRUE</span>)[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>]</span></code></pre></div>
<pre><code>## 
##         A         T         G         C   GCCCCCC  GCCCCCCC  CAAAAAAA  TCCCCCCC 
##       211       203       154       139         6         6         4         4 
## CAAAAAAAA  TGGGGGGG 
##         3         3</code></pre>
<p>We can create a object <code>snps_variants</code> using another logical subsetting operator <code>%in%</code> that keeps rows corresponding to a vector of values in our case the values “A”, “C”, “G”, “T”.</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="introduction-to-r-and-rstudio.html#cb136-1" aria-hidden="true" tabindex="-1"></a>snps_variants <span class="ot">&lt;-</span> subset_variants[subset_variants<span class="sc">$</span>ALT <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;G&quot;</span>, <span class="st">&quot;T&quot;</span>) ,]</span></code></pre></div>
<p>When we look at <code>str()</code> did this make our object a factor?</p>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="introduction-to-r-and-rstudio.html#cb137-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(snps_variants<span class="sc">$</span>ALT)</span></code></pre></div>
<pre><code>##  chr [1:707] &quot;G&quot; &quot;T&quot; &quot;T&quot; &quot;T&quot; &quot;A&quot; &quot;A&quot; &quot;C&quot; &quot;C&quot; &quot;T&quot; &quot;T&quot; &quot;A&quot; &quot;C&quot; &quot;A&quot; &quot;G&quot; &quot;C&quot; ...</code></pre>
<p>NO! The output says <code>snps_variants$ALT</code> is a <code>chr</code> and we promised you factors! To turn this or any other character vector that should be a categorical variable into a factor we can use the function <code>factor()</code> lets do this and look at its structure again.</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="introduction-to-r-and-rstudio.html#cb139-1" aria-hidden="true" tabindex="-1"></a>snps_variants<span class="sc">$</span>ALT <span class="ot">&lt;-</span> <span class="fu">factor</span>(snps_variants<span class="sc">$</span>ALT)</span>
<span id="cb139-2"><a href="introduction-to-r-and-rstudio.html#cb139-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(snps_variants<span class="sc">$</span>ALT)</span></code></pre></div>
<pre><code>##  Factor w/ 4 levels &quot;A&quot;,&quot;C&quot;,&quot;G&quot;,&quot;T&quot;: 3 4 4 4 1 1 2 2 4 4 ...</code></pre>
<p>What we get back are the categories (“A”,”C”,”G”,”T”) in our factor; these are called “Levels”. Levels are the different categories contained in a factor. For the sake of efficiency, R stores the content of a factor as a vector of integers, which an integer is assigned to each of the possible levels (a hold over from the old days when treating things as numbers saved space and processing time on the computer) By default, R will organize the levels in a factor in alphabetical order. So the first level in this factor is “A” and the final is “T”. We hope you have enjoyed this crash course in Factors! Now we will learn how to quickly explore our data with plots</p>
</div>
<div id="quickly-exploring-data-with-plots" class="section level3 hasAnchor" number="2.12.3">
<h3><span class="header-section-number">2.12.3</span> Quickly exploring data with plots<a href="introduction-to-r-and-rstudio.html#quickly-exploring-data-with-plots" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>For very quick exploration of data, it’s sometimes useful to use the plotting functions in base R. These are installed by default with R and do not require any additional packages to be installed. They’re quick to type, straightforward to use in simple cases, and run very quickly.</p>
<p>We will pick up with factors with our first example. One of the most common uses for factors will be when you plot categorical values. For example, suppose we want to know how many of our <code>snp_variants</code> had each possible SNP we could generate a plot:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="introduction-to-r-and-rstudio.html#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(snps_variants<span class="sc">$</span>ALT)</span></code></pre></div>
<p><img src="CDABS-R-Series_files/figure-html/unnamed-chunk-65-1.png" width="576" style="display: block; margin: auto;" />
This isn’t a particularly pretty example of a plot but it works!</p>
<p>If you recall, factors are ordered alphabetically. That might make sense, but categories (e.g., “red”, “blue”, “green”) often do not have an intrinsic order. What if we wanted to order our plot according to the numerical value (i.e., in order of SNP frequency)? We can enforce an order on our factors and plot again!:</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="introduction-to-r-and-rstudio.html#cb142-1" aria-hidden="true" tabindex="-1"></a>snps_variants<span class="sc">$</span>ordered_factor_snps <span class="ot">&lt;-</span> <span class="fu">factor</span>(snps_variants<span class="sc">$</span>ALT, <span class="at">levels =</span> <span class="fu">names</span>(<span class="fu">sort</span>(<span class="fu">table</span>(snps_variants<span class="sc">$</span>ALT))))</span></code></pre></div>
<p>Let’s deconstruct this from the inside out (you can try each of these commands to see why this works):</p>
<ol style="list-style-type: decimal">
<li>We create a table of factor_snps to get the frequency of each SNP: <code>table(snps_variants$ALT)</code></li>
<li>We sort this table: <code>sort(table(snps_variants$ALT))</code>; use the decreasing = parameter for this function if you wanted to change from the default of FALSE</li>
<li>Using the names function gives us just the character names of the table sorted by frequencies:<code>names(sort(table(snps_variants$ALT)))</code></li>
<li>The <code>factor()</code> function is what allows us to create a factor. We give it the <code>snps_variants$ALT</code> object as input, and use the levels= parameter to enforce the ordering of the levels.</li>
</ol>
<p>Taking a look at the plot we see it is reordered and very easy on the eyes!:</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="introduction-to-r-and-rstudio.html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(snps_variants<span class="sc">$</span>ordered_factor_snps)</span></code></pre></div>
<p><img src="CDABS-R-Series_files/figure-html/unnamed-chunk-67-1.png" width="576" style="display: block; margin: auto;" />
Wow! Adenine is the most frequent SNP in this data</p>
<p>If you want to make a quick histogram you can pass a vector of values to <code>hist()</code>. To specify an approximate number of bins instead of the default you can add a <code>breaks</code> argument.</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="introduction-to-r-and-rstudio.html#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(variants<span class="sc">$</span>QUAL)</span></code></pre></div>
<p><img src="CDABS-R-Series_files/figure-html/unnamed-chunk-68-1.png" width="576" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="introduction-to-r-and-rstudio.html#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get a clearer picture of the QUAL variable with more bins using `breaks=`</span></span>
<span id="cb145-2"><a href="introduction-to-r-and-rstudio.html#cb145-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-3"><a href="introduction-to-r-and-rstudio.html#cb145-3" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(variants<span class="sc">$</span>QUAL, <span class="at">breaks =</span> <span class="dv">20</span>)</span></code></pre></div>
<p><img src="CDABS-R-Series_files/figure-html/unnamed-chunk-68-2.png" width="576" style="display: block; margin: auto;" /></p>
<p>We have only covered 2 of the plots you can use to explore a dataset using Base R, we like these because they allow for quick checks of variables in the data. If you want to do anything beyond very simple plots, though, it’s generally better to switch to ggplot2 which you will learn in Session 3 of the CDABS summeR workshops!</p>
<p>At this point you can review the material or continue to some exercises we have put together for you. Congratulations you made it to the end!</p>
</div>
</div>
<div id="exercises" class="section level2 hasAnchor" number="2.13">
<h2><span class="header-section-number">2.13</span> Exercises<a href="introduction-to-r-and-rstudio.html#exercises" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Open a new R script. Save it to your project folder. Use this script to record the answers to the exercises</li>
<li>Use a comment to indicate the exercise number you are answering.</li>
<li>Create an object with the value of your name.</li>
<li>Create an object with the value of your age.</li>
<li>Determine the data type of each of the two objects you created above with the <code>class()</code> function.</li>
<li>Use one of the strategies you learned in <a href="introduction-to-r-and-rstudio.html#getting-help">Getting Help</a> to look up what the <code>rm()</code> function does. How would you use this on the objects you created in Questions 3 and 4?</li>
<li>Create a vector of the following names: Marcia, Jan, Cindy. Assign this to an object called <code>brady_girls</code>.</li>
<li>Create another vector of the following names: Greg, Peter, Bobby. Assign this to an object called <code>brady_boys</code>.</li>
<li>Combine the <code>brady_girls</code> and <code>brady_boys</code> vectors together and assign to an object called <code>brady_bunch</code>.</li>
<li>How would you subset the 4th element in the <code>brady_bunch</code> vector?</li>
<li>Call <code>library(help = "datasets")</code> to explore the various datasets contained in the <code>datasets</code> package. This package contains a number of example datasets you can use for practice.</li>
<li>Use <code>head()</code> to look at the beginning of the dataset called <code>ToothGrowth</code>.</li>
<li>How would you find the number of columns and rows in <code>ToothGrowth</code>? How would you find summary information about this dataset?</li>
<li>Use bracket notation to select the item in the 5th row and 2nd column of <code>ToothGrowth</code>.</li>
<li>Use bracket notation to select the 5th through 10th rows of <code>ToothGrowth</code>.</li>
<li>Use dollar sign notation to look at the <code>len</code> column of <code>ToothGrowth</code>.</li>
<li>Find the mean of the <code>len</code> column.</li>
<li>Use logical subsetting to save all the rows where the value in the <code>supp</code> column is <code>OJ</code>. Assign this to a new object.</li>
</ol>

</div>
</div>



<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p>Population data from
<a href="https://www.census.gov/quickfacts/MD" class="uri">https://www.census.gov/quickfacts/MD</a><a href="introduction-to-r-and-rstudio.html#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>Population data from
<a href="https://www.census.gov/quickfacts/MD" class="uri">https://www.census.gov/quickfacts/MD</a><a href="introduction-to-r-and-rstudio.html#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>Vaccination information from
<a href="https://coronavirus.maryland.gov/#Vaccine" class="uri">https://coronavirus.maryland.gov/#Vaccine</a><a href="introduction-to-r-and-rstudio.html#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p>Centers for Disease Control and Prevention. COVID Data Tracker. Atlanta, GA: US Department of Health and Human Services, CDC; 2022, July 06. <a href="https://covid.cdc.gov/covid-data-tracker" class="uri">https://covid.cdc.gov/covid-data-tracker</a><a href="introduction-to-r-and-rstudio.html#fnref4" class="footnote-back">↩︎</a></p></li>
<li id="fn5"><p>Tenaillon O, Barrick JE, Ribeck N, Deatherage DE, Blanchard JL, Dasgupta A, Wu GC, Wielgoss S, Cruveiller S, Médigue C, Schneider D, Lenski RE. Tempo and mode of genome evolution in a 50,000-generation experiment (2016) Nature. 536(7615): 165–170. Paper, Supplemental materials Data on NCBI SRA: <a href="https://trace.ncbi.nlm.nih.gov/Traces/sra/?study=SRP064605" class="uri">https://trace.ncbi.nlm.nih.gov/Traces/sra/?study=SRP064605</a> Data on EMBL-EBI ENA: <a href="https://www.ebi.ac.uk/ena/data/view/PRJNA295606" class="uri">https://www.ebi.ac.uk/ena/data/view/PRJNA295606</a><a href="introduction-to-r-and-rstudio.html#fnref5" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="welcome-to-the-tidyverse.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["CDABS-R-Series.pdf", "CDABS-R-Series.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
