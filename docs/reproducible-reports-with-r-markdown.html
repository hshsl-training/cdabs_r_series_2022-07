<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 Reproducible Reports with R Markdown | CDABS R Workshop Series</title>
  <meta name="description" content="This is material to accompany a 4 part introduction to R workshop series." />
  <meta name="generator" content="bookdown 0.27 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 Reproducible Reports with R Markdown | CDABS R Workshop Series" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is material to accompany a 4 part introduction to R workshop series." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 Reproducible Reports with R Markdown | CDABS R Workshop Series" />
  
  <meta name="twitter:description" content="This is material to accompany a 4 part introduction to R workshop series." />
  

<meta name="author" content="Jean-Paul Courneya and Amy Yarnell" />


<meta name="date" content="2022-07-05" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="reproducible-project-management.html"/>
<link rel="next" href="shiny-apps.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">CDABS R Series</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i><b>1.1</b> Acknowledgements</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i><b>1.2</b> License</a></li>
</ul></li>
<li class="part"><span><b>Session I</b></span></li>
<li class="chapter" data-level="2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html"><i class="fa fa-check"></i><b>2</b> Introduction to R and RStudio</a>
<ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#learning-objectives"><i class="fa fa-check"></i><b>2.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#why-learn-r"><i class="fa fa-check"></i><b>2.2</b> Why learn R?</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#starting-out-in-r"><i class="fa fa-check"></i><b>2.3</b> Starting out in R</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#downloading-installing-and-running-r"><i class="fa fa-check"></i><b>2.3.1</b> Downloading, Installing and Running R</a></li>
<li class="chapter" data-level="2.3.2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#rstudio"><i class="fa fa-check"></i><b>2.3.2</b> RStudio</a></li>
<li class="chapter" data-level="2.3.3" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#rstudio-cloud"><i class="fa fa-check"></i><b>2.3.3</b> RStudio Cloud</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#using-this-book"><i class="fa fa-check"></i><b>2.4</b> Using this book</a></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#working-in-the-console"><i class="fa fa-check"></i><b>2.5</b> Working in the Console</a></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#objects"><i class="fa fa-check"></i><b>2.6</b> Objects</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#creating-objects"><i class="fa fa-check"></i><b>2.6.1</b> Creating Objects</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#saving-code-in-an-r-script"><i class="fa fa-check"></i><b>2.7</b> Saving code in an R script</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#setting-your-working-directory"><i class="fa fa-check"></i><b>2.7.1</b> Setting your Working Directory</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#functions-and-their-arguments"><i class="fa fa-check"></i><b>2.8</b> Functions and their arguments</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#getting-help"><i class="fa fa-check"></i><b>2.8.1</b> Getting Help</a></li>
<li class="chapter" data-level="2.8.2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#challenge-using-functions"><i class="fa fa-check"></i><b>2.8.2</b> Challenge: using functions</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#packages"><i class="fa fa-check"></i><b>2.9</b> Packages</a></li>
<li class="chapter" data-level="2.10" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#vectors"><i class="fa fa-check"></i><b>2.10</b> Vectors</a>
<ul>
<li class="chapter" data-level="2.10.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#missing-data"><i class="fa fa-check"></i><b>2.10.1</b> Missing Data</a></li>
<li class="chapter" data-level="2.10.2" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#mixing-types"><i class="fa fa-check"></i><b>2.10.2</b> Mixing types</a></li>
<li class="chapter" data-level="2.10.3" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#indexing-and-subsetting-vectors"><i class="fa fa-check"></i><b>2.10.3</b> Indexing and Subsetting vectors</a></li>
</ul></li>
<li class="chapter" data-level="2.11" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#data-frames-tibbles-and-exploring-data"><i class="fa fa-check"></i><b>2.11</b> Data frames, Tibbles and Exploring Data</a>
<ul>
<li class="chapter" data-level="2.11.1" data-path="introduction-to-r-and-rstudio.html"><a href="introduction-to-r-and-rstudio.html#creating-data-frames"><i class="fa fa-check"></i><b>2.11.1</b> Creating data frames</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Session II</b></span></li>
<li class="chapter" data-level="3" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html"><i class="fa fa-check"></i><b>3</b> Welcome to the Tidyverse</a>
<ul>
<li class="chapter" data-level="3.1" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#install"><i class="fa fa-check"></i><b>3.1</b> Install</a></li>
<li class="chapter" data-level="3.2" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#the-data"><i class="fa fa-check"></i><b>3.2</b> The Data</a></li>
<li class="chapter" data-level="3.3" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#importing-data"><i class="fa fa-check"></i><b>3.3</b> Importing data</a></li>
<li class="chapter" data-level="3.4" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#working-with-columns"><i class="fa fa-check"></i><b>3.4</b> Working with columns</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#select"><i class="fa fa-check"></i><b>3.4.1</b> <code>Select()</code></a></li>
<li class="chapter" data-level="3.4.2" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#renaming-columns"><i class="fa fa-check"></i><b>3.4.2</b> Renaming columns</a></li>
<li class="chapter" data-level="3.4.3" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#creating-new-columns-with-mutate"><i class="fa fa-check"></i><b>3.4.3</b> Creating new columns with <code>mutate()</code></a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#working-with-rows"><i class="fa fa-check"></i><b>3.5</b> Working with rows</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#filter"><i class="fa fa-check"></i><b>3.5.1</b> <code>filter()</code></a></li>
<li class="chapter" data-level="3.5.2" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#grouping-and-summarizing-data"><i class="fa fa-check"></i><b>3.5.2</b> Grouping and Summarizing data</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#joining-datasets"><i class="fa fa-check"></i><b>3.6</b> Joining Datasets</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="welcome-to-the-tidyverse.html"><a href="welcome-to-the-tidyverse.html#long-vs-wide-formats"><i class="fa fa-check"></i><b>3.6.1</b> Long vs Wide formats</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>Session III</b></span></li>
<li class="chapter" data-level="4" data-path="plotting-with-ggplot2.html"><a href="plotting-with-ggplot2.html"><i class="fa fa-check"></i><b>4</b> Plotting with ggplot2</a>
<ul>
<li class="chapter" data-level="4.1" data-path="plotting-with-ggplot2.html"><a href="plotting-with-ggplot2.html#barplots"><i class="fa fa-check"></i><b>4.1</b> Barplots</a></li>
</ul></li>
<li class="part"><span><b>Session IV</b></span></li>
<li class="chapter" data-level="5" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html"><i class="fa fa-check"></i><b>5</b> Reproducible Project Management</a>
<ul>
<li class="chapter" data-level="5.1" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#rstudio-projects"><i class="fa fa-check"></i><b>5.1</b> RStudio Projects</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#what-is-real"><i class="fa fa-check"></i><b>5.1.1</b> What is Real?</a></li>
<li class="chapter" data-level="5.1.2" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#where-does-your-analysis-live"><i class="fa fa-check"></i><b>5.1.2</b> Where does your analysis live?</a></li>
<li class="chapter" data-level="5.1.3" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#createRproj"><i class="fa fa-check"></i><b>5.1.3</b> Creating an RStudio project</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#version-control-and-rstudio"><i class="fa fa-check"></i><b>5.2</b> Version Control and RStudio</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#why-git"><i class="fa fa-check"></i><b>5.2.1</b> Why Git?</a></li>
<li class="chapter" data-level="5.2.2" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#whats-github"><i class="fa fa-check"></i><b>5.2.2</b> What’s GitHub?</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#settingupremote"><i class="fa fa-check"></i><b>5.3</b> Setting up a remote repository on Github</a></li>
<li class="chapter" data-level="5.4" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#connecting-rstudio-to-github"><i class="fa fa-check"></i><b>5.4</b> Connecting Rstudio to Github</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#introduce-yourself-to-git"><i class="fa fa-check"></i><b>5.4.1</b> Introduce yourself to Git</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#get-a-personal-access-token-pat"><i class="fa fa-check"></i><b>5.5</b> Get a personal access token (PAT)</a>
<ul>
<li class="chapter" data-level="5.5.1" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#create-the-pat"><i class="fa fa-check"></i><b>5.5.1</b> Create the PAT</a></li>
<li class="chapter" data-level="5.5.2" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#put-your-pat-into-the-git-credential-store"><i class="fa fa-check"></i><b>5.5.2</b> Put your PAT into the Git credential store</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#checking-out-a-project-from-a-version-control-remote-repository"><i class="fa fa-check"></i><b>5.6</b> Checking out a project from a version control remote repository</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#clone-the-new-github-repository-to-your-computer-via-rstudio"><i class="fa fa-check"></i><b>5.6.1</b> Clone the new GitHub repository to your computer via RStudio</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#making-some-changes-save-commit."><i class="fa fa-check"></i><b>5.7</b> Making some changes, save, commit.</a></li>
<li class="chapter" data-level="5.8" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#push-your-local-changes-online-to-github"><i class="fa fa-check"></i><b>5.8</b> Push your local changes online to GitHub</a></li>
<li class="chapter" data-level="5.9" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#confirm-the-local-change-propagated-to-the-github-remote"><i class="fa fa-check"></i><b>5.9</b> Confirm the local change propagated to the GitHub remote</a></li>
<li class="chapter" data-level="5.10" data-path="reproducible-project-management.html"><a href="reproducible-project-management.html#clean-up"><i class="fa fa-check"></i><b>5.10</b> Clean up</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html"><i class="fa fa-check"></i><b>6</b> Reproducible Reports with R Markdown</a>
<ul>
<li class="chapter" data-level="6.1" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#what-is-r-markdown"><i class="fa fa-check"></i><b>6.1</b> What is R Markdown</a></li>
<li class="chapter" data-level="6.2" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#r-markdown-related-packages"><i class="fa fa-check"></i><b>6.2</b> R Markdown Related Packages</a></li>
<li class="chapter" data-level="6.3" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#how-does-r-markdown-work"><i class="fa fa-check"></i><b>6.3</b> How does R Markdown work</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#creating-an-r-markdown-file"><i class="fa fa-check"></i><b>6.3.1</b> Creating an R Markdown file</a></li>
<li class="chapter" data-level="6.3.2" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#r-markdown-basic-components"><i class="fa fa-check"></i><b>6.3.2</b> R Markdown Basic Components</a></li>
<li class="chapter" data-level="6.3.3" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#markdown"><i class="fa fa-check"></i><b>6.3.3</b> Markdown</a></li>
<li class="chapter" data-level="6.3.4" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#r-code-chunks"><i class="fa fa-check"></i><b>6.3.4</b> R code chunks</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="reproducible-reports-with-r-markdown.html"><a href="reproducible-reports-with-r-markdown.html#resources-for-r-markdown"><i class="fa fa-check"></i><b>6.4</b> Resources for R Markdown</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="shiny-apps.html"><a href="shiny-apps.html"><i class="fa fa-check"></i><b>7</b> Shiny Apps</a>
<ul>
<li class="chapter" data-level="7.1" data-path="shiny-apps.html"><a href="shiny-apps.html#shiny-tutorial-2"><i class="fa fa-check"></i><b>7.1</b> Shiny app basics</a></li>
<li class="chapter" data-level="7.2" data-path="shiny-apps.html"><a href="shiny-apps.html#create-an-empty-shiny-app"><i class="fa fa-check"></i><b>7.2</b> Create an empty Shiny app</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="shiny-apps.html"><a href="shiny-apps.html#alternate-way-to-create-a-shiny-app-separate-ui-and-server-files"><i class="fa fa-check"></i><b>7.2.1</b> Alternate way to create a Shiny app: separate UI and server files</a></li>
<li class="chapter" data-level="7.2.2" data-path="shiny-apps.html"><a href="shiny-apps.html#let-rstudio-fill-out-a-shiny-app-template-for-you"><i class="fa fa-check"></i><b>7.2.2</b> Let RStudio fill out a Shiny app template for you</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="shiny-apps.html"><a href="shiny-apps.html#an-example-shiny-app"><i class="fa fa-check"></i><b>7.3</b> An example Shiny App</a></li>
<li class="chapter" data-level="7.4" data-path="shiny-apps.html"><a href="shiny-apps.html#host-your-shiny-app"><i class="fa fa-check"></i><b>7.4</b> Host your Shiny App</a></li>
<li class="chapter" data-level="7.5" data-path="shiny-apps.html"><a href="shiny-apps.html#resources"><i class="fa fa-check"></i><b>7.5</b> Resources</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="further-resources.html"><a href="further-resources.html"><i class="fa fa-check"></i><b>A</b> Further Resources</a>
<ul>
<li class="chapter" data-level="A.1" data-path="further-resources.html"><a href="further-resources.html#installing-r-and-rstudio"><i class="fa fa-check"></i><b>A.1</b> Installing R and RStudio</a></li>
<li class="chapter" data-level="A.2" data-path="further-resources.html"><a href="further-resources.html#the-tidyverse"><i class="fa fa-check"></i><b>A.2</b> The Tidyverse</a></li>
<li class="chapter" data-level="A.3" data-path="further-resources.html"><a href="further-resources.html#graphing-in-r"><i class="fa fa-check"></i><b>A.3</b> Graphing in R</a></li>
<li class="chapter" data-level="A.4" data-path="further-resources.html"><a href="further-resources.html#r-based-technologies"><i class="fa fa-check"></i><b>A.4</b> R Based Technologies</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="selected-glossary-of-r-terminology.html"><a href="selected-glossary-of-r-terminology.html"><i class="fa fa-check"></i><b>B</b> Selected Glossary of R Terminology</a></li>
<li class="chapter" data-level="C" data-path="packages-and-functions-used.html"><a href="packages-and-functions-used.html"><i class="fa fa-check"></i><b>C</b> Packages and Functions Used</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">CDABS R Workshop Series</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="reproducible-reports-with-r-markdown" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">Chapter 6</span> Reproducible Reports with R Markdown<a href="reproducible-reports-with-r-markdown.html#reproducible-reports-with-r-markdown" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p><img src="images/session3/session3_slide03.jpg" width="80%" style="display: block; margin: auto;" /></p>
<p>So far, you’ve learned the tools to get your data into R, tidy it into a form convenient for analysis, and then understand your data through transformation and visualization. We have not covered modeling (The goal of a model is to provide a simple low-dimensional summary of a dataset.) It doesn’t matter how great your analysis is unless you can explain it to others and provide your analysis in a way that is reproducibly by others: you need to <strong>communicate</strong> your results.</p>
<p>Many new users begin by first writing a single R script containing all of their work, and then share the analysis by emailing the script and various graphs as attachments. But this can be cumbersome, requiring a lengthy discussion to explain which attachment was which result.</p>
<p>Writing formal reports with Word can simplify this process by incorporating both the analysis report and output graphs into a single document. But tweaking formatting to make figures look correct and fixing obnoxious page breaks can be tedious and lead to a lengthy “whack-a-mole” game of fixing new mistakes resulting from a single formatting change.</p>
<div id="what-is-r-markdown" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> What is R Markdown<a href="reproducible-reports-with-r-markdown.html#what-is-r-markdown" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><img src="images/session3/rmd_introduction.jpg" width="80%" style="display: block; margin: auto;" /></p>
<p>R Markdown provides an authoring framework for data science. You can use a single R Markdown file to both</p>
<ul>
<li><p>save and execute code, and</p></li>
<li><p>generate high quality reports that can be shared with an audience.</p></li>
</ul>
<p>R Markdown was designed for easier reproducibility, since both the computing code and narratives are in the same document, and results are automatically generated from the source code. R Markdown supports dozens of static and dynamic/interactive output formats like word, pdf, powerpoint and more!</p>
<p>To use Rmarkdown you need the <code>rmarkdown</code> package, but you don’t need to explicitly install it or load it, as RStudio automatically does both when needed.</p>
</div>
<div id="r-markdown-related-packages" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> R Markdown Related Packages<a href="reproducible-reports-with-r-markdown.html#r-markdown-related-packages" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><img src="images/session3/rmd_related-pkgs.jpg" width="80%" style="display: block; margin: auto;" /></p>
<p>In addition to the amazing reports and even slide decks that you can produce with Rmarkdown one of the other amazing features is that it can also be used to create your own website using the package blogdown and author books using the bookdown package. These two abilities truly extend the reach of your work essentially making it available to anyone with a web browser and internet connection.</p>
<p><code>bookdown</code> is an R package that allows you to write books and long-form reports with multiple Rmd files. After this package was published, a large number of books have emerged. You can find a subset of them at (<a href="https://bookdown.org" class="uri">https://bookdown.org</a>). Some of these books have been printed, and some only have free online versions.</p>
<p>There have also been students who wrote their dissertations/theses with bookdown, such as Ed Berry: (<a href="https://eddjberry.netlify.com/post/writing-your-thesis-with-bookdown/" class="uri">https://eddjberry.netlify.com/post/writing-your-thesis-with-bookdown/</a>). Chester Ismay has even provided an R package thesisdown (<a href="https://github.com/ismayc/thesisdown" class="uri">https://github.com/ismayc/thesisdown</a>) that can render a thesis in various formats.</p>
<p>The <code>blogdown</code> package can be used to build general-purpose websites (including blogs and personal websites) based on R Markdown. You may find tons of examples at (<a href="https://github.com/rbind" class="uri">https://github.com/rbind</a>) or by searching on Twitter: (<a href="https://twitter.com/search?q=blogdown" class="uri">https://twitter.com/search?q=blogdown</a>).</p>
</div>
<div id="how-does-r-markdown-work" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> How does R Markdown work<a href="reproducible-reports-with-r-markdown.html#how-does-r-markdown-work" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Lets take a look under the hood at R Markdown. The best way to get a sense of whats going on is to create a R Markdown file using RStudio.</p>
<div id="creating-an-r-markdown-file" class="section level3 hasAnchor" number="6.3.1">
<h3><span class="header-section-number">6.3.1</span> Creating an R Markdown file<a href="reproducible-reports-with-r-markdown.html#creating-an-r-markdown-file" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Within RStudio, click File → New File → R Markdown and you’ll get a dialog box like this:</p>
<p><img src="images/session3/create_rmd.png" width="80%" style="display: block; margin: auto;" /></p>
<p>You can stick with the default (HTML output), but give it a title.</p>
<p>As a result RStudio generates this:</p>
<p><img src="images/session3/rmd_template.png" width="80%" style="display: block; margin: auto;" /></p>
</div>
<div id="r-markdown-basic-components" class="section level3 hasAnchor" number="6.3.2">
<h3><span class="header-section-number">6.3.2</span> R Markdown Basic Components<a href="reproducible-reports-with-r-markdown.html#r-markdown-basic-components" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>What we see is an R Markdown file, a plain text file that has the extension <code>.Rmd</code>: It contains three important types of content:</p>
<ol style="list-style-type: decimal">
<li>An (optional) <strong>YAML header</strong> surrounded by <code>---</code>s.</li>
<li><strong>Chunks</strong> of R code surrounded by <code>```</code>.</li>
<li>Text mixed with simple text formatting like <code># heading</code> and <code>_italics_</code>.</li>
</ol>
<div id="yaml-header" class="section level4 hasAnchor" number="6.3.2.1">
<h4><span class="header-section-number">6.3.2.1</span> YAML Header<a href="reproducible-reports-with-r-markdown.html#yaml-header" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The initial chunk of text (header) contains instructions for R to specify what kind of document will be created, and the options chosen. You can use the header to give your document a title, author, date, and tell it what type of output you want to produce. In this case, we’re creating an html document. The syntax for the metadata is YAML (YAML Ain’t Markup Language, (<a href="https://en.wikipedia.org/wiki/YAML" class="uri">https://en.wikipedia.org/wiki/YAML</a>)), so sometimes it is also called the YAML metadata or the YAML frontmatter. Before it bites you hard, we want to warn you in advance that indentation matters in YAML, so do not forget to indent the sub-fields of a top field properly.</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="reproducible-reports-with-r-markdown.html#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="sc">---</span></span>
<span id="cb175-2"><a href="reproducible-reports-with-r-markdown.html#cb175-2" aria-hidden="true" tabindex="-1"></a>title<span class="sc">:</span> <span class="st">&quot;T32-Rmd-Practice&quot;</span></span>
<span id="cb175-3"><a href="reproducible-reports-with-r-markdown.html#cb175-3" aria-hidden="true" tabindex="-1"></a>author<span class="sc">:</span> <span class="st">&quot;JP Courneya&quot;</span></span>
<span id="cb175-4"><a href="reproducible-reports-with-r-markdown.html#cb175-4" aria-hidden="true" tabindex="-1"></a>date<span class="sc">:</span> <span class="st">&quot;7/21/2021&quot;</span></span>
<span id="cb175-5"><a href="reproducible-reports-with-r-markdown.html#cb175-5" aria-hidden="true" tabindex="-1"></a>output<span class="sc">:</span> html_document</span>
<span id="cb175-6"><a href="reproducible-reports-with-r-markdown.html#cb175-6" aria-hidden="true" tabindex="-1"></a><span class="sc">---</span></span></code></pre></div>
</div>
<div id="body-of-the-document" class="section level4 hasAnchor" number="6.3.2.2">
<h4><span class="header-section-number">6.3.2.2</span> Body of the document<a href="reproducible-reports-with-r-markdown.html#body-of-the-document" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>The body of the document follows the metadata. The syntax for text (also known as prose or narratives) is Markdown, a lightweight set of conventions for formatting plain text files. Markdown is designed to be easy to read and easy to write. There are also two types of computer code, code chunks and inline R code. We will look at each of these in more detail in subsequent sections.</p>
<p>You will notice in the <code>.Rmd</code> interface the code and output are interleaved. You can run each code chunk by clicking the Run icon (it looks like a play button at the top of the chunk), or by pressing Cmd/Ctrl + Shift + Enter. RStudio executes the code and displays the results inline with the code:</p>
<p><img src="images/session3/run_code_chunk.png" width="100%" style="display: block; margin: auto;" /></p>
<p>To generate a report from the file, run the <code>render</code> command:</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="reproducible-reports-with-r-markdown.html#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rmarkdown)</span>
<span id="cb176-2"><a href="reproducible-reports-with-r-markdown.html#cb176-2" aria-hidden="true" tabindex="-1"></a><span class="fu">render</span>(<span class="st">&quot;T32-rmd-practice.Rmd&quot;</span>)</span></code></pre></div>
<p>Better still, use the <img src="images/session3/knit_button.png" width="62" /> button in the RStudio IDE to render the file and preview the output with a single click or keyboard shortcut (⇧⌘K). You will notice your first time “knitting” the document you are prompted to save the file, save it with a meaningful name.</p>
<p><img src="images/session3/rmd_render.png" width="100%" style="display: block; margin: auto;" /></p>
<p>R Markdown generates a new file that contains selected text, code, and results from the .Rmd file.</p>
</div>
<div id="how-things-get-compiled" class="section level4 hasAnchor" number="6.3.2.3">
<h4><span class="header-section-number">6.3.2.3</span> How things get compiled<a href="reproducible-reports-with-r-markdown.html#how-things-get-compiled" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p><img src="images/session3/rmarkdownflow.png" width="100%" style="display: block; margin: auto;" /></p>
<p>When you run <code>render</code>, or press the <img src="images/session3/knit_button.png" width="62" /> button, R Markdown feeds the .Rmd file to knitr, which executes all of the code chunks and creates a new markdown (.md) document which includes the code and its output.</p>
<p>The markdown file generated by knitr is then processed by pandoc which is responsible for creating the finished format.</p>
<p>This may sound complicated, but R Markdown makes it extremely simple by encapsulating all of the above processing into a single <code>render</code> function or <img src="images/session3/knit_button.png" width="62" /> button.</p>
</div>
</div>
<div id="markdown" class="section level3 hasAnchor" number="6.3.3">
<h3><span class="header-section-number">6.3.3</span> Markdown<a href="reproducible-reports-with-r-markdown.html#markdown" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Markdown is a system for writing web pages by marking up the text much as you would in an email rather than writing html code. The marked-up text gets converted to html, replacing the marks with the proper html code.</p>
<p>For now, let’s delete all of the stuff that’s in the <code>.Rmd</code> file and write a bit of markdown.</p>
<p>You make things bold using two asterisks, like this: <code>**bold**</code>, and you make things italics by using underscores, like this: <code>_italics_</code>.</p>
<p>You can make a bulleted list by writing a list with hyphens or asterisks, like this:</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb177-1"><a href="reproducible-reports-with-r-markdown.html#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>one item</span>
<span id="cb177-2"><a href="reproducible-reports-with-r-markdown.html#cb177-2" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>one item</span>
<span id="cb177-3"><a href="reproducible-reports-with-r-markdown.html#cb177-3" aria-hidden="true" tabindex="-1"></a><span class="ss">* </span>one item</span>
<span id="cb177-4"><a href="reproducible-reports-with-r-markdown.html#cb177-4" aria-hidden="true" tabindex="-1"></a><span class="ss">    * </span>one more item</span>
<span id="cb177-5"><a href="reproducible-reports-with-r-markdown.html#cb177-5" aria-hidden="true" tabindex="-1"></a><span class="ss">    * </span>one more item</span>
<span id="cb177-6"><a href="reproducible-reports-with-r-markdown.html#cb177-6" aria-hidden="true" tabindex="-1"></a><span class="ss">    * </span>one more item</span>
<span id="cb177-7"><a href="reproducible-reports-with-r-markdown.html#cb177-7" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb177-8"><a href="reproducible-reports-with-r-markdown.html#cb177-8" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>bold with double-asterisks</span>
<span id="cb177-9"><a href="reproducible-reports-with-r-markdown.html#cb177-9" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>italics with underscores</span>
<span id="cb177-10"><a href="reproducible-reports-with-r-markdown.html#cb177-10" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>code-type font with backticks</span></code></pre></div>
<p>The output is:</p>
<ul>
<li>one item</li>
<li>one item</li>
<li>one item
<ul>
<li>one more item</li>
<li>one more item</li>
<li>one more item</li>
</ul></li>
<li>bold with double-asterisks</li>
<li>italics with underscores</li>
<li>code-type font with backticks</li>
</ul>
<p>You can use whatever method you prefer, but be consistent. This maintains the readability of your code.</p>
<p>You can make a numbered list by just using numbers. You can even use the same number over and over if you want:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb178-1"><a href="reproducible-reports-with-r-markdown.html#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>bold with double-asterisks</span>
<span id="cb178-2"><a href="reproducible-reports-with-r-markdown.html#cb178-2" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>italics with underscores</span>
<span id="cb178-3"><a href="reproducible-reports-with-r-markdown.html#cb178-3" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span>code-type font with backticks</span></code></pre></div>
<p>This will appear as:</p>
<ol style="list-style-type: decimal">
<li>bold with double-asterisks</li>
<li>italics with underscores</li>
<li>code-type font with backticks</li>
</ol>
<p>You can make section headers of different sizes by initiating a line with some number of <code>#</code> symbols:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb179-1"><a href="reproducible-reports-with-r-markdown.html#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># Title</span></span>
<span id="cb179-2"><a href="reproducible-reports-with-r-markdown.html#cb179-2" aria-hidden="true" tabindex="-1"></a><span class="fu">## Main section</span></span>
<span id="cb179-3"><a href="reproducible-reports-with-r-markdown.html#cb179-3" aria-hidden="true" tabindex="-1"></a><span class="fu">### Sub-section</span></span>
<span id="cb179-4"><a href="reproducible-reports-with-r-markdown.html#cb179-4" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Sub-sub section</span></span></code></pre></div>
<p>They will appear like this:</p>
<p><img src="images/session3/rmd_headers.png" width="60%" style="display: block; margin: auto;" /></p>
<div id="a-bit-more-markdown" class="section level4 hasAnchor" number="6.3.3.1">
<h4><span class="header-section-number">6.3.3.1</span> A bit more Markdown<a href="reproducible-reports-with-r-markdown.html#a-bit-more-markdown" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>You can make a hyperlink like this: <code>[text to show](http://the-web-page.com)</code>.</p>
<p>You can include an image file like this: <code>![caption](http://url/for/file)</code></p>
<p>You can do subscripts (e.g., F<sub>2</sub>) with <code>F~2~</code> and superscripts (e.g., F<sup>2</sup>) with <code>F^2^</code>.</p>
<p>If you know how to write equations in LaTeX, you can use <code>$ $</code> and <code>$$ $$</code> to insert math equations, like <code>$E = mc^2$</code> and</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb180-1"><a href="reproducible-reports-with-r-markdown.html#cb180-1" aria-hidden="true" tabindex="-1"></a>$$y = \mu + \sum_{i=1}^p \beta_i x_i + \epsilon$$</span></code></pre></div>
</div>
</div>
<div id="r-code-chunks" class="section level3 hasAnchor" number="6.3.4">
<h3><span class="header-section-number">6.3.4</span> R code chunks<a href="reproducible-reports-with-r-markdown.html#r-code-chunks" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The real power of Markdown comes from mixing markdown with chunks of code. This is R Markdown. When processed, the R code will be executed; if they produce figures, the figures will be inserted in the final document.</p>
<p>To run code inside an R Markdown document, you need to insert a chunk.
There are three ways to do so:</p>
<ol style="list-style-type: decimal">
<li><p>The keyboard shortcut Cmd/Ctrl + Alt + I</p></li>
<li><p>The “Insert” button icon in the editor toolbar.</p></li>
<li><p>By manually typing the chunk delimiters <code>```{r}</code> and <code>```</code>.</p></li>
</ol>
<p>I’d recommend you learn the keyboard shortcut. It will save you a lot of time in the long run!</p>
<p>The main code chunks look like this:</p>
<pre><code>```{r}
    summary(cars)
```</code></pre>
<p>You should give each chunk a unique name, as they will help you to fix errors and, if any graphs are produced, the file names are based on the name of the code chunk that produced them.</p>
<div class="shaded question">
<p>As an exercise add code chunks to:</p>
<ul>
<li>download gapminder data to /data</li>
<li>Load the ggplot2 package</li>
<li>Read the gapminder data</li>
<li>Create a plot</li>
</ul>
<pre><code>```{r download-gapminder-data, eval=TRUE}
download.file(&quot;https://raw.githubusercontent.com/swcarpentry/r-novice-gapminder/gh-pages/_episodes_rmd/data/gapminder_data.csv&quot;, destfile = &quot;data/gapminder_data.csv&quot;)
```

```{r load-ggplot2, eval=TRUE}
library(&quot;ggplot2&quot;)
```

```{r read-gapminder-data, eval=TRUE}
gapminder &lt;- read.csv(file = &quot;data/gapminder_data.csv&quot;, stringsAsFactors = TRUE)
```

```{r make-plot, eval=TRUE}
plot(lifeExp ~ year, data = gapminder)
```</code></pre>
</div>
<p>As a courtesy the code to copy and place in chunks:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="reproducible-reports-with-r-markdown.html#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="fu">download.file</span>(<span class="st">&quot;https://raw.githubusercontent.com/swcarpentry/r-novice-gapminder/gh-pages/_episodes_rmd/data/gapminder_data.csv&quot;</span>, <span class="at">destfile =</span> <span class="st">&quot;data/gapminder_data.csv&quot;</span>)</span>
<span id="cb183-2"><a href="reproducible-reports-with-r-markdown.html#cb183-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-3"><a href="reproducible-reports-with-r-markdown.html#cb183-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb183-4"><a href="reproducible-reports-with-r-markdown.html#cb183-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-5"><a href="reproducible-reports-with-r-markdown.html#cb183-5" aria-hidden="true" tabindex="-1"></a>gapminder <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="at">file =</span> <span class="st">&quot;data/gapminder_data.csv&quot;</span>, <span class="at">stringsAsFactors =</span> <span class="cn">TRUE</span>)</span>
<span id="cb183-6"><a href="reproducible-reports-with-r-markdown.html#cb183-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb183-7"><a href="reproducible-reports-with-r-markdown.html#cb183-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(lifeExp <span class="sc">~</span> year, <span class="at">data =</span> gapminder)</span></code></pre></div>
<div id="chunk-options" class="section level4 hasAnchor" number="6.3.4.1">
<h4><span class="header-section-number">6.3.4.1</span> Chunk Options<a href="reproducible-reports-with-r-markdown.html#chunk-options" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>There are a variety of options to affect how the code chunks are treated. Here are some examples:</p>
<ul>
<li>Use <code>echo=FALSE</code> to avoid having the code itself shown.</li>
<li>Use <code>results="hide"</code> to avoid having any results printed.</li>
<li>Use <code>eval=FALSE</code> to have the code shown but not evaluated.</li>
<li>Use <code>warning=FALSE</code> and <code>message=FALSE</code> to hide any warnings or messages produced.</li>
<li>Use <code>fig.height</code> and <code>fig.width</code> to control the size of the figures produced (in inches).</li>
</ul>
<p>So you might write:</p>
<pre><code>```{r load_libraries, echo=FALSE, message=FALSE}
library(&quot;dplyr&quot;)
library(&quot;ggplot2&quot;)
```</code></pre>
<p>Often there will be particular options that you’ll want to use repeatedly; for this, you can set <em>global</em> chunk options, like so:</p>
<pre><code>```{r global_options, echo=FALSE}
knitr::opts_chunk$set(fig.path=&quot;Figs/&quot;, message=FALSE, warning=FALSE, echo=FALSE, results=&quot;hide&quot;, fig.width=11)
```</code></pre>
<p>The <code>fig.path</code> option defines where the figures will be saved. The <code>/</code> here is really important; without it, the figures would be saved in the standard place but just with names that begin with <code>Figs</code>.</p>
<p>If you have multiple R Markdown files in a common directory, you might want to use fig.path to define separate prefixes for the figure file names, like <code>fig.path="Figs/cleaning-"</code> and <code>fig.path="Figs/analysis-"</code>.
You can review all of the <code>R</code> chunk options by navigating to the “R Markdown Cheat Sheet” under the “Cheatsheets” section of the “Help” field in the toolbar at the top of RStudio.</p>
</div>
<div id="inline-code" class="section level4 hasAnchor" number="6.3.4.2">
<h4><span class="header-section-number">6.3.4.2</span> Inline code<a href="reproducible-reports-with-r-markdown.html#inline-code" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>There is one other way to embed R code into an R Markdown document: directly into the text, with: <code>r</code>.
This can be very useful if you mention properties of your data in the text.
For example, using the <code>diamonds</code> dataset we could report:</p>
<blockquote>
<p>We have data about <code>r nrow(ggplot2::diamonds</code> diamonds.</p>
</blockquote>
<p>The output would be:</p>
<blockquote>
<p>We have data about 53940 diamonds.</p>
</blockquote>
<p>When inserting numbers into text, <code>format()</code> is your friend.
It allows you to set the number of <code>digits</code> so you don’t print to a ridiculous degree of accuracy, and a <code>big.mark</code> to make numbers easier to read.
The expression:</p>
<blockquote>
<p>We have data about <code>`r format(nrow(ggplot2::diamonds), digits = 2, big.mark = ",")`</code> diamonds.</p>
</blockquote>
<p>Would look like this:</p>
<blockquote>
<p>We have data about 53,940 diamonds.</p>
</blockquote>
<p>You can combine these into a helper function:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="reproducible-reports-with-r-markdown.html#cb186-1" aria-hidden="true" tabindex="-1"></a>comma <span class="ot">&lt;-</span> <span class="cf">function</span>(x) <span class="fu">format</span>(x, <span class="at">digits =</span> <span class="dv">2</span>, <span class="at">big.mark =</span> <span class="st">&quot;,&quot;</span>)</span>
<span id="cb186-2"><a href="reproducible-reports-with-r-markdown.html#cb186-2" aria-hidden="true" tabindex="-1"></a><span class="fu">comma</span>(<span class="dv">3452345</span>)</span></code></pre></div>
<pre><code>## [1] &quot;3,452,345&quot;</code></pre>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="reproducible-reports-with-r-markdown.html#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="fu">comma</span>(.<span class="dv">12358124331</span>)</span></code></pre></div>
<pre><code>## [1] &quot;0.12&quot;</code></pre>
<p>Using our nifty helper function,</p>
<p>The expression will now look different <code>`r comma(nrow(ggplot2::diamonds))`</code></p>
<p>But give us the same amazing results as <code>`r format(nrow(ggplot2::diamonds), digits = 2, big.mark = ",")`</code> !</p>
<blockquote>
<p>We have data about 53,940 diamonds.</p>
</blockquote>
</div>
</div>
</div>
<div id="resources-for-r-markdown" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> Resources for R Markdown<a href="reproducible-reports-with-r-markdown.html#resources-for-r-markdown" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><a href="http://kbroman.org/knitr_knutshell">Knitr in a knutshell tutorial</a></li>
<li><a href="http://www.amazon.com/exec/obidos/ASIN/1482203537/7210-20">Dynamic Documents with R and knitr</a> (book)</li>
<li><a href="http://rmarkdown.rstudio.com">R Markdown documentation</a></li>
<li><a href="https://www.rstudio.com/wp-content/uploads/2016/03/rmarkdown-cheatsheet-2.0.pdf">R Markdown cheat sheet</a></li>
<li><a href="https://www.rstudio.com/resources/webinars/getting-started-with-r-markdown/">Getting started with R Markdown</a></li>
<li><a href="https://bookdown.org/yihui/rmarkdown/">R Markdown: The Definitive Guide</a> (book by Rstudio team)</li>
<li><a href="https://www.rstudio.com/resources/webinars/reproducible-reporting/">Reproducible Reporting</a></li>
<li><a href="https://www.rstudio.com/resources/webinars/the-ecosystem-of-r-markdown/">The Ecosystem of R Markdown</a></li>
<li><a href="https://www.rstudio.com/resources/webinars/introducing-bookdown/">Introducing Bookdown</a></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="reproducible-project-management.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="shiny-apps.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["CDABS-R-Series.pdf", "CDABS-R-Series.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
